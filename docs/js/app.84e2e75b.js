(function(e){function t(t){for(var o,a,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,i,a){var s=Object(o["p"])("Welcome"),c=Object(o["p"])("Quiz"),u=Object(o["p"])("Scenes"),l=Object(o["p"])("Final");return Object(o["l"])(),Object(o["e"])(o["a"],null,[Object(o["g"])(s),Object(o["g"])(c),Object(o["g"])(u),Object(o["g"])(l)],64)}n("b0c0");var i={key:0,class:"full"},a={class:"card"},s={class:"card-container"},c=Object(o["f"])("div",{class:"card-title"},[Object(o["f"])("h1",null,"Hello world")],-1),u=Object(o["f"])("div",{class:"card-body"},[Object(o["f"])("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit, odit. ")],-1),l={class:"card-action"};function d(e,t,n,r,d,f){var p=this;return this.$store.getters.isCurrentStage(this.$options.name)?(Object(o["l"])(),Object(o["e"])("div",i,[Object(o["f"])("div",a,[Object(o["f"])("div",s,[c,u,Object(o["f"])("div",l,[Object(o["f"])("button",{onClick:t[0]||(t[0]=function(e){return p.$store.dispatch("nextStage")})}," Continue ")])])])])):Object(o["d"])("",!0)}var f={name:"Welcome"},p=n("6b0d"),g=n.n(p);const b=g()(f,[["render",d]]);var v=b,m={key:0},O={class:"center spaced"},j=Object(o["f"])("h2",null,"Quiz",-1),h=Object(o["f"])("label",{for:"gender"},"Select your gender",-1),x=Object(o["f"])("option",null,"Male",-1),y=Object(o["f"])("option",null,"Female",-1),S=Object(o["f"])("option",null,"Other",-1),w=[x,y,S],P=Object(o["f"])("br",null,null,-1);function C(e,t,n,r,i,a){return this.$store.getters.isCurrentStage(this.$options.name)?(Object(o["l"])(),Object(o["e"])("div",m,[Object(o["f"])("div",O,[j,h,Object(o["x"])(Object(o["f"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return i.user.gender=e}),id:"gender"},w,512),[[o["s"],i.user.gender]]),P,Object(o["x"])(Object(o["f"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.user.age=e}),placeholder:"Age",min:"3",max:"99"},null,512),[[o["t"],i.user.age]]),Object(o["f"])("button",{onClick:t[2]||(t[2]=function(){return a.onContinue&&a.onContinue.apply(a,arguments)})},"Continue")])])):Object(o["d"])("",!0)}var z={name:"Quiz",data:function(){return{user:this.$store.state.userData}},created:function(){},methods:{onContinue:function(){this.$store.state.userData=this.user,this.$store.dispatch("nextStage")}}};const k=g()(z,[["render",C]]);var L=k;function $(e,t,n,r,i,a){var s=Object(o["p"])("Visuals1"),c=Object(o["p"])("Scene");return Object(o["l"])(),Object(o["c"])(c,{name:"Scene1"},{default:Object(o["w"])((function(){return[Object(o["g"])(s)]})),_:1})}function _(e,t,n,r,i,a){var s=Object(o["p"])("PerspectiveCamera"),c=Object(o["p"])("PointLight"),u=Object(o["p"])("ShaderMaterial"),l=Object(o["p"])("Plane"),d=Object(o["p"])("FbxModel"),f=Object(o["p"])("Scene"),p=Object(o["p"])("Renderer");return Object(o["l"])(),Object(o["c"])(p,{ref:"renderer",resize:"window",orbitCtrl:""},{default:Object(o["w"])((function(){return[Object(o["g"])(s,{ref:"camera",lookAt:i.cameraLookAt,position:i.cameraPosition},null,8,["lookAt","position"]),Object(o["g"])(f,{ref:"scene",background:"#000000"},{default:Object(o["w"])((function(){return[Object(o["g"])(c,{position:{x:0,y:0,z:3},intensity:.4},null,8,["intensity"]),Object(o["g"])(c,{position:{x:0,y:0,z:-3},intensity:.4},null,8,["intensity"]),Object(o["g"])(l,{ref:"loadingScreen",width:2,height:2,position:{y:-2,z:0}},{default:Object(o["w"])((function(){return[Object(o["g"])(u,{props:{vertexShader:i.vs,fragmentShader:i.fs,uniforms:i.us}},null,8,["props"])]})),_:1},512),Object(o["g"])(d,{src:"./assets/models/Standing Arguing.fbx",onLoad:a.onLoad,position:{y:-3,x:-1,z:0},rotation:{y:.5*Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"]),Object(o["g"])(d,{src:"./assets/models/Standing Arguing.fbx",onLoad:a.onLoad,position:{y:-3,x:1,z:0},rotation:{y:.5*-Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"])]})),_:1},512)]})),_:1},512)}n("d3b7"),n("159b");var T=n("5a89"),M=n("cffa"),A="\nvarying vec2 vUv;\nuniform float uTime;\nvarying float vTime;\nvoid main()\n{\n    gl_Position = vec4(position, 1.0);\n    vUv = uv;\n    vTime = uTime;\n}\n",I="\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying float vTime;\n\nvec4 permute(vec4 x)\n{\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\n\nvec2 fade(vec2 t)\n{\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    float strength = 1.0 - step(0.9, sin(cnoise(vUv * 10.0) * 20.0));\n\n    gl_FragColor = vec4(vec3(strength), uAlpha);\n}\n",q={data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:-1.8625455300041365,y:.2209428475467337,z:.676835122899029},animations:[],numberOfObjects:2,us:{uAlpha:{value:1},uTime:{value:0}},vs:A,fs:I}},mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.loadingScreenMaterial=this.loadingScreen.material,this.loadingScreenMaterial.transparent=!0,this.renderer=this.$refs.renderer,this.scene=this.$refs.scene,this.camera=this.$refs.camera,this.clock=new T["p"],this.init()},methods:{init:function(){var e=new T["u"];this.scene.scene.background=e.load(["./assets/textures/street/px.jpg","./assets/textures/street/nx.jpg","./assets/textures/street/py.jpg","./assets/textures/street/ny.jpg","./assets/textures/street/pz.jpg","./assets/textures/street/nz.jpg"]),this.renderer.onBeforeRender(this.update)},update:function(){var e=this.clock.getElapsedTime();this.us.uTime.value=e,this.updateAnimations()},onLoad:function(e){var t=new T["e"](e);t.clipAction(e.animations[1]).play();var n=new T["p"];if(this.animations.push({animation:t,clock:n}),this.numberOfObjects==this.animations.length){var o=this.loadingScreen,r=this.scene,i=this;M["a"].to(this.loadingScreenMaterial.uniforms.uAlpha,{duration:3,value:0,onComplete:function(){r.scene.remove(o),i.$store.commit("loadingSwap")}})}},updateAnimations:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())}))}}};const R=g()(q,[["render",_]]);var D=R,U={key:0};function F(e,t,n,r,i,a){var s=Object(o["p"])("Options");return this.$store.getters.isCurrentStage(n.name)?(Object(o["l"])(),Object(o["e"])("div",U,[Object(o["o"])(e.$slots,"default"),Object(o["g"])(s,{information:i.optionsProps},null,8,["information"])])):Object(o["d"])("",!0)}var Q=n("1da1"),H=(n("96cf"),{class:"title"}),V={class:"options"};function E(e,t,n,r,i,a){var s=Object(o["p"])("Option");return Object(o["x"])((Object(o["l"])(),Object(o["e"])("div",null,[Object(o["f"])("div",H,[Object(o["g"])(s,{message:n.information.title,disabled:""},null,8,["message"])]),Object(o["f"])("div",V,[Object(o["g"])(s,{message:n.information.option1,index:0},null,8,["message"]),Object(o["g"])(s,{message:n.information.option2,index:1},null,8,["message"]),Object(o["g"])(s,{message:n.information.option3,index:2},null,8,["message"])])],512)),[[o["u"],!this.$store.getters.isSceneLoading]])}var W={class:"option"};function G(e,t,n,r,i,a){return n.message?(Object(o["l"])(),Object(o["e"])("div",{key:0,onClick:t[0]||(t[0]=function(){return a.onClick&&a.onClick.apply(a,arguments)})},[Object(o["f"])("button",W,Object(o["q"])(n.message),1)])):Object(o["d"])("",!0)}n("a9e3");var K={name:"Option",props:{index:{type:Number},message:{type:String},disabled:{type:Boolean,default:!1}},methods:{onClick:function(){this.disabled||(this.$store.state.userData.questions.push(this.index),this.$store.dispatch("nextStage"))}}};const N=g()(K,[["render",G]]);var X=N,B={name:"Options",props:["information"],components:{Option:X}};const J=g()(B,[["render",E]]);var Y=J,Z={components:{Options:Y},props:{name:String},data:function(){return{optionsProps:null}},created:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.getters.getSceneOptions(e.name);case 2:e.optionsProps=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};const ee=g()(Z,[["render",F]]);var te=ee,ne={name:"Scenes",components:{Scene:te,Visuals1:D}};const oe=g()(ne,[["render",$]]);var re=oe,ie={key:0,class:"full"},ae={class:"card"},se={class:"card-container"},ce=Object(o["f"])("div",{class:"card-title"},[Object(o["f"])("h1",null,"End")],-1),ue=Object(o["f"])("div",{class:"card-body"},[Object(o["f"])("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit, odit. ")],-1),le={class:"card-action"};function de(e,t,n,r,i,a){return this.$store.getters.isCurrentStage(this.$options.name)?(Object(o["l"])(),Object(o["e"])("div",ie,[Object(o["f"])("div",ae,[Object(o["f"])("div",se,[ce,ue,Object(o["f"])("div",le,[Object(o["f"])("button",{onClick:t[0]||(t[0]=function(){return a.reloadPage&&a.reloadPage.apply(a,arguments)})},"Restart")])])])])):Object(o["d"])("",!0)}var fe={name:"Final",methods:{reloadPage:function(){window.location.reload()}}};const pe=g()(fe,[["render",de]]);var ge=pe,be={name:"App",components:{Welcome:v,Quiz:L,Scenes:re,Final:ge}};const ve=g()(be,[["render",r]]);var me=ve,Oe=(n("caad"),n("2532"),n("e9c4"),n("5502")),je=Object(Oe["a"])({state:function(){return{stages:["Welcome","Quiz","Scene1","Final"],currentStageIndex:0,questionIndex:0,sceneLoading:!1,scenesOptions:{Scene1:{title:"Your friend is sad because she failed, but you are on the phone",option1:"Ignore and stay on the phone.",option2:"Listen while on the phone.",option3:"Give her all your attention."}},scenesCollection:"61b4956f0ddbee6f8b1b8c7e",usersCollection:"61b49c4262ed886f915e5a13",masterKey:"$2b$10$yGbK6Zw/E5lzTl.TmQivFuhYR87PWV2Cy2TG.gIi8Lp2BLduGVNyq",userData:{gender:"Male",age:14,questions:[]}}},mutations:{nextStage:function(e){e.currentStageIndex+1<e.stages.length&&(e.currentStageIndex++,e.stages[e.currentStageIndex].includes("Scene")&&(e.sceneLoading=!e.sceneLoading))},nextQuestion:function(e){e.questionIndex++},loadingSwap:function(e){e.sceneLoading=!e.sceneLoading},saveUserData:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&console.log(n.responseText)},n.open("POST","https://api.jsonbin.io/v3/b",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Master-Key",e.masterKey),n.setRequestHeader("X-Collection-Id",t.collection),n.send(JSON.stringify(e.userData))}},actions:{nextStage:function(e){var t=e.commit;e.getters;t("nextStage")}},getters:{isCurrentStage:function(e){return function(t){return e.stages[e.currentStageIndex]==t}},isSceneLoading:function(e){return e.sceneLoading},isLastStage:function(e){return e.currentStageIndex==e.stages.length-1},getUsersCollection:function(e){return e.usersCollection},getUserData:function(e){return e.userData},getSceneOptions:function(e){return function(t){return e.scenesOptions[t]}}}}),he=n("af1e");Object(o["b"])(me).use(je).use(he["a"]).mount("#app")}});
//# sourceMappingURL=app.84e2e75b.js.map