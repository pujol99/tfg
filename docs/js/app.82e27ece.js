(function(t){function e(e){for(var n,o,s=e[0],a=e[1],u=e[2],h=0,d=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);l&&l(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,s=1;s<r.length;s++){var a=r[s];0!==i[a]&&(n=!1)}n&&(c.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},i={app:0},c=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],a=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=a;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23");function i(t,e,r,i,c,o){var s=Object(n["j"])("Camera"),a=Object(n["j"])("AmbientLight"),u=Object(n["j"])("PointLight"),l=Object(n["j"])("BoxGeometry"),h=Object(n["j"])("StandardMaterial"),d=Object(n["j"])("InstancedMesh"),p=Object(n["j"])("Scene"),f=Object(n["j"])("RenderPass"),m=Object(n["j"])("UnrealBloomPass"),b=Object(n["j"])("HalftonePass"),j=Object(n["j"])("EffectComposer"),O=Object(n["j"])("Renderer");return Object(n["h"])(),Object(n["b"])(O,{ref:"renderer",resize:"window","orbit-ctrl":"",pointer:""},{default:Object(n["m"])((function(){return[Object(n["c"])(s,{position:{z:200}}),Object(n["c"])(p,null,{default:Object(n["m"])((function(){return[Object(n["c"])(a,{color:"#808080"}),Object(n["c"])(u,{color:"#ff6000"}),Object(n["c"])(u,{ref:"light",color:"#0060ff",intensity:.5},null,8,["intensity"]),Object(n["c"])(d,{ref:"imesh",count:i.NUM_INSTANCES},{default:Object(n["m"])((function(){return[Object(n["c"])(l,{width:2,height:2,depth:10}),Object(n["c"])(h,{props:{transparent:!0,opacity:.9,metalness:.8,roughness:.5}},null,8,["props"])]})),_:1},8,["count"])]})),_:1}),Object(n["c"])(j,null,{default:Object(n["m"])((function(){return[Object(n["c"])(f),Object(n["c"])(m,{strength:1}),Object(n["c"])(b,{radius:1,scatter:0})]})),_:1})]})),_:1},512)}r("4c53");var c=r("5a89"),o=c["jb"].randFloat,s=c["jb"].randFloatSpread,a={setup:function(){for(var t=200,e=[],r=new c["yc"],n=new c["Cb"],i=new c["yc"],a=0;a<t;a++)e.push({position:new c["yc"](s(200),s(200),s(200)),scale:o(.2,1),scaleZ:o(.1,1),velocity:new c["yc"](s(.2),s(.2),s(.2)),attraction:.03+o(-.01,.01),vlimit:1.2+o(-.1,.1)});return{NUM_INSTANCES:t,instances:e,target:r,dummyO:n,dummyV:i}},mounted:function(){this.renderer=this.$refs.renderer,this.imesh=this.$refs.imesh.mesh,this.light=this.$refs.light.light,this.init()},methods:{init:function(){for(var t=0;t<this.NUM_INSTANCES;t++){var e=this.instances[t],r=e.position,n=e.scale,i=e.scaleZ;this.dummyO.position.copy(r),this.dummyO.scale.set(n,n,i),this.dummyO.updateMatrix(),this.imesh.setMatrixAt(t,this.dummyO.matrix)}this.imesh.instanceMatrix.needsUpdate=!0,this.renderer.onBeforeRender(this.animate)},animate:function(){var t=this.renderer.three.pointer;this.target.copy(t.positionV3),this.light.position.copy(this.target);for(var e=0;e<this.NUM_INSTANCES;e++){var r=this.instances[e],n=r.position,i=r.scale,c=r.scaleZ,o=r.velocity,s=r.attraction,a=r.vlimit;this.dummyV.copy(this.target).sub(n).normalize().multiplyScalar(s),o.add(this.dummyV).clampScalar(-a,a),n.add(o),this.dummyO.position.copy(n),this.dummyO.scale.set(i,i,c),this.dummyO.lookAt(this.dummyV.copy(n).add(o)),this.dummyO.updateMatrix(),this.imesh.setMatrixAt(e,this.dummyO.matrix)}this.imesh.instanceMatrix.needsUpdate=!0}}},u=r("6b0d"),l=r.n(u);const h=l()(a,[["render",i]]);var d=h,p=r("af1e"),f=Object(n["a"])(d);f.use(p["a"]),f.mount("#app")}});
//# sourceMappingURL=app.82e27ece.js.map