(function(e){function t(t){for(var i,c,a=t[0],r=t[1],u=t[2],d=0,f=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(i=!1)}i&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},s=[];function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=r;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function o(e,t,n,o,s,c){var a=Object(i["r"])("Welcome"),r=Object(i["r"])("Quiz"),u=Object(i["r"])("Scenes"),l=Object(i["r"])("Survey"),d=Object(i["r"])("Final");return Object(i["m"])(),Object(i["e"])(i["a"],null,[Object(i["g"])(a),Object(i["g"])(r),Object(i["g"])(u),Object(i["g"])(l),Object(i["g"])(d)],64)}var s={key:0},c={class:"card-container"},a=Object(i["f"])("div",{class:"card-title"},[Object(i["f"])("h1",null,"Hello world")],-1),r=Object(i["f"])("div",{class:"card-body"},[Object(i["f"])("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit, odit. ")],-1),u={class:"card-action"};function l(e,t,n,o,l,d){return e.currentScene("Welcome")?(Object(i["m"])(),Object(i["e"])("div",s,[Object(i["f"])("div",c,[a,r,Object(i["f"])("div",u,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(t){return e.nextStage()})},"Continue")])])])):Object(i["d"])("",!0)}var d=n("5530"),f=n("5502"),g={computed:Object(d["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage"})),methods:Object(d["a"])({},Object(f["b"])({nextStage:"stages/nextStage"}))},p=n("6b0d"),b=n.n(p);const v=b()(g,[["render",l]]);var m=v,O={key:0};function j(e,t,n,o,s,c){var a=Object(i["r"])("Form");return e.currentScene("Quiz")?(Object(i["m"])(),Object(i["e"])("div",O,[Object(i["g"])(a,{propQuestions:e.getQuizQuestions,title:"About you",saveFunction:"saveQuizDecisions"},null,8,["propQuestions"])])):Object(i["d"])("",!0)}n("b64b");var h={class:"card-container"},y={class:"card-title"},S={class:"card-body"},x={class:"form-element-title"},P=["onClick"],w={class:"card-action"};function k(e,t,n,o,s,c){var a=Object(i["r"])("Popup");return Object(i["m"])(),Object(i["e"])(i["a"],null,[Object(i["g"])(a,{ref:"message",message:"Fill answers please"},null,512),Object(i["f"])("div",h,[Object(i["f"])("div",y,[Object(i["f"])("h2",null,Object(i["s"])(n.title),1)]),Object(i["f"])("div",S,[Object(i["f"])("form",null,[(Object(i["m"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(Object.keys(e.questions),(function(t){return Object(i["m"])(),Object(i["e"])("div",{class:"form-element",key:t},[Object(i["f"])("div",x,Object(i["s"])(e.questions[t].title),1),(Object(i["m"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(e.questions[t].options,(function(n){return Object(i["m"])(),Object(i["e"])("div",{class:Object(i["k"])(["form-element-option spaced",{selected:n==e.questions[t].optionSelected}]),key:n,onClick:function(i){return e.questions[t].optionSelected=n}},Object(i["s"])(n),11,P)})),128))])})),128))])]),Object(i["f"])("div",w,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return c.onContinue&&c.onContinue.apply(c,arguments)})},"Continue")])])],64)}n("4de4"),n("d3b7"),n("caad"),n("2532");var z={class:"popup-content"};function D(e,t,n,o,s,c){return Object(i["m"])(),Object(i["e"])("div",{class:Object(i["k"])(["popup",{popupActive:s.activated,popupInactive:s.deactivated}])},[Object(i["f"])("div",z,[Object(i["f"])("h5",null,Object(i["s"])(n.message),1)])],2)}var C={name:"Popup",data:function(){return{POPUP_TIME:2,activated:!1,deactivated:!1}},props:["type","message"],methods:{activate:function(){this.activated=!0,this.deactivated=!1;var e=this;setTimeout((function(){e.deactivate()}),1e3*this.POPUP_TIME)},deactivate:function(){this.activated=!1,this.deactivated=!0}}};const L=b()(C,[["render",D]]);var Q=L,F={name:"Form",components:{Popup:Q},props:{propQuestions:Object,title:String,saveFunction:String},created:function(){this.questions=this.propQuestions},computed:{dataValidated:function(){var e=this;return 0==Object.keys(this.questions).filter((function(t){return!e.questions[t].options.includes(e.questions[t].optionSelected)})).length}},methods:Object(d["a"])(Object(d["a"])({},Object(f["b"])({nextStage:"stages/nextStage"})),{},{onContinue:function(){this.dataValidated?(this.formatDataForSave(),this.$store.commit("data/".concat(this.saveFunction),this.questions),this.nextStage()):this.onDataNotValidated()},onDataNotValidated:function(){this.$refs.message.activate()},formatDataForSave:function(){for(var e=0,t=Object.keys(this.questions);e<t.length;e++){var n=t[e];this.questions[n]=this.questions[n].optionSelected}}})};const q=b()(F,[["render",k]]);var T=q,_={components:{Form:T},computed:Object(d["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getQuizQuestions:"data/getQuizQuestions"}))};const A=b()(_,[["render",j]]);var I=A;function M(e,t,n,o,s,c){var a=Object(i["r"])("Visuals1"),r=Object(i["r"])("Scene");return Object(i["m"])(),Object(i["c"])(r,{name:"Scene1"},{default:Object(i["v"])((function(){return[Object(i["g"])(a)]})),_:1})}function R(e,t,n,o,s,c){var a=Object(i["r"])("PerspectiveCamera"),r=Object(i["r"])("PointLight"),u=Object(i["r"])("LoadingScreen"),l=Object(i["r"])("FbxModel"),d=Object(i["r"])("Scene"),f=Object(i["r"])("Renderer");return Object(i["m"])(),Object(i["c"])(f,{ref:"renderer",resize:"window","orbit-ctrl":{autoRotate:!0,autoRotateSpeed:.5}},{default:Object(i["v"])((function(){return[Object(i["g"])(a,{ref:"camera",lookAt:s.cameraLookAt,position:s.cameraPosition},null,8,["lookAt","position"]),Object(i["g"])(d,{ref:"scene",background:"#000000"},{default:Object(i["v"])((function(){return[Object(i["g"])(r,{position:{x:0,y:0,z:3},intensity:.4},null,8,["intensity"]),Object(i["g"])(r,{position:{x:0,y:0,z:-3},intensity:.4},null,8,["intensity"]),Object(i["g"])(u,{ref:"loadingScreen",fs:s.fs,vs:s.vs},null,8,["fs","vs"]),Object(i["g"])(l,{src:"./assets/models/Standing Arguing.fbx",onLoad:c.onLoad,position:{y:-3,x:-1,z:0},rotation:{y:.5*Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"]),Object(i["g"])(l,{src:"./assets/models/Standing Arguing.fbx",onLoad:c.onLoad,position:{y:-3,x:1,z:0},rotation:{y:.5*-Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"])]})),_:1},512)]})),_:1},8,["orbit-ctrl"])}n("159b");var $=n("5a89"),E="\nvarying vec2 vUv;\nuniform float uTime;\nvarying float vTime;\nvoid main()\n{\n    gl_Position = vec4(position, 1.0);\n    vUv = uv;\n    vTime = uTime;\n}\n",U="\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying float vTime;\n\nvec4 permute(vec4 x)\n{\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\n\nvec2 fade(vec2 t)\n{\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    float strength = 1.0 - step(sin(vTime*0.6), sin(cnoise(vUv * 10.0) * 20.0));\n    gl_FragColor = vec4(vec3(strength), uAlpha);\n}\n";function V(e,t,n,o,s,c){var a=Object(i["r"])("ShaderMaterial"),r=Object(i["r"])("Plane");return Object(i["m"])(),Object(i["c"])(r,{ref:"loadingScreen",width:2,height:2,position:{y:-2,z:0}},{default:Object(i["v"])((function(){return[Object(i["g"])(a,{props:{vertexShader:n.vs,fragmentShader:n.fs,uniforms:s.us}},null,8,["props"])]})),_:1},512)}var H=n("cffa"),N={data:function(){return{FADETIME:2,us:{uAlpha:{value:1},uTime:{value:0}},loadingFinished:!1}},props:["vs","fs"],mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.loadingScreenMaterial=this.loadingScreen.material,this.loadingScreenMaterial.transparent=!0,this.clock=new $["p"]},methods:{finish:function(){var e=this;H["a"].to(this.loadingScreenMaterial.uniforms.uAlpha,{duration:this.FADETIME,value:0,onComplete:function(){e.onFinish()}})},onFinish:function(){this.loadingFinished=!0,this.$store.commit("stages/loadingSwitch")},update:function(){if(!this.loadingFinished){var e=this.clock.getElapsedTime();this.us.uTime.value=e}}}};const W=b()(N,[["render",V]]);var G=W,K={components:{LoadingScreen:G},data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:-1.8625455300041365,y:.2209428475467337,z:.676835122899029},animations:[],numberOfObjects:2,vs:E,fs:U}},mounted:function(){this.renderer=this.$refs.renderer,this.scene=this.$refs.scene,this.loadingScreen=this.$refs.loadingScreen,this.camera=this.$refs.camera,this.clock=new $["p"],this.init()},methods:{init:function(){var e=new $["u"];this.scene.scene.background=e.load(["./assets/textures/street/px.jpg","./assets/textures/street/nx.jpg","./assets/textures/street/py.jpg","./assets/textures/street/ny.jpg","./assets/textures/street/pz.jpg","./assets/textures/street/nz.jpg"]),this.renderer.onBeforeRender(this.update)},update:function(){this.updateAnimations(),this.loadingScreen.update()},onLoad:function(e){var t=new $["e"](e);t.clipAction(e.animations[1]).play();var n=new $["p"];this.animations.push({animation:t,clock:n}),this.numberOfObjects==this.animations.length&&this.loadingScreen.finish()},updateAnimations:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())}))}}};const X=b()(K,[["render",R]]);var B=X,J=(n("b0c0"),{key:0});function Y(e,t,n,o,s,c){var a=Object(i["r"])("Options");return this["stages/isCurrentStage"](n.name)?(Object(i["m"])(),Object(i["e"])("div",J,[Object(i["q"])(e.$slots,"default"),Object(i["g"])(a,{information:e.optionsProps},null,8,["information"])])):Object(i["d"])("",!0)}var Z=n("1da1"),ee=(n("96cf"),{class:"title"}),te={class:"options"};function ne(e,t,n,o,s,c){var a=Object(i["r"])("Option");return Object(i["m"])(),Object(i["e"])("div",null,[Object(i["f"])("div",ee,[Object(i["g"])(a,{message:n.information.title,disabled:""},null,8,["message"])]),Object(i["f"])("div",te,[(Object(i["m"])(!0),Object(i["e"])(i["a"],null,Object(i["p"])(n.information.options,(function(e,t){return Object(i["m"])(),Object(i["c"])(a,{key:e,message:e,index:t},null,8,["message","index"])})),128))])])}var ie={key:0};function oe(e,t,n,o,s,c){return n.message?(Object(i["m"])(),Object(i["e"])("div",ie,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return c.onClick&&c.onClick.apply(c,arguments)}),class:Object(i["k"])(["option",{active:!e.sceneLoading,disabled:n.disabled}])},Object(i["s"])(n.message),3)])):Object(i["d"])("",!0)}n("a9e3");var se={name:"Option",props:{index:Number,message:String,disabled:{type:Boolean,default:!1}},computed:Object(d["a"])({},Object(f["c"])({sceneLoading:"stages/isSceneLoading"})),methods:Object(d["a"])(Object(d["a"])({},Object(f["b"])({nextStage:"stages/nextStage"})),{},{onClick:function(){this.disabled||(this.$store.commit("data/saveSceneDecision",this.index),this.nextStage())}})};const ce=b()(se,[["render",oe]]);var ae=ce,re={name:"Options",props:["information"],components:{Option:ae}};const ue=b()(re,[["render",ne]]);var le=ue,de={components:{Options:le},props:["name"],computed:Object(d["a"])({},Object(f["c"])(["data/getSceneOptions","stages/isCurrentStage"])),created:function(){var e=this;return Object(Z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e["data/getSceneOptions"](e.name);case 2:e.optionsProps=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};const fe=b()(de,[["render",Y]]);var ge=fe,pe={name:"Scenes",components:{Scene:ge,Visuals1:B}};const be=b()(pe,[["render",M]]);var ve=be,me={key:0};function Oe(e,t,n,o,s,c){var a=Object(i["r"])("Form");return e.currentScene("Survey")?(Object(i["m"])(),Object(i["e"])("div",me,[Object(i["g"])(a,{propQuestions:e.getSurveyQuestions,title:"Final survey",saveFunction:"saveSurveyDecisions"},null,8,["propQuestions"])])):Object(i["d"])("",!0)}var je={components:{Form:T},computed:Object(d["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getSurveyQuestions:"data/getSurveyQuestions"}))};const he=b()(je,[["render",Oe]]);var ye=he,Se={key:0},xe={class:"card-container"},Pe=Object(i["f"])("div",{class:"card-title"},[Object(i["f"])("h1",null,"End")],-1),we=Object(i["f"])("div",{class:"card-body"},[Object(i["f"])("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit, odit. ")],-1),ke={class:"card-action"};function ze(e,t,n,o,s,c){return e.currentScene("Final")?(Object(i["m"])(),Object(i["e"])("div",Se,[Object(i["f"])("div",xe,[Pe,we,Object(i["f"])("div",ke,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(e){return c.reloadPage()})},"Restart")])])])):Object(i["d"])("",!0)}var De={computed:Object(d["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage"})),methods:{reloadPage:function(){window.location.reload()}}};const Ce=b()(De,[["render",ze]]);var Le=Ce,Qe={name:"App",components:{Welcome:m,Quiz:I,Scenes:ve,Survey:ye,Final:Le}};const Fe=b()(Qe,[["render",o]]);var qe=Fe,Te=(n("e9c4"),function(){return{scenesOptions:{Scene1:{title:"Your friend is sad because she failed, but you are on the phone",options:["Ignore and stay on the phone.","Listen while on the phone.","Give her all your attention."]}},scenesCollection:"61b4956f0ddbee6f8b1b8c7e",usersCollection:"61b49c4262ed886f915e5a13",masterKey:"$2b$10$yGbK6Zw/E5lzTl.TmQivFuhYR87PWV2Cy2TG.gIi8Lp2BLduGVNyq",quizQuestions:{age:{title:"Select your age",options:["10-","11-15","15-19","20+"],optionSelected:null},gender:{title:"Select your gender",options:["Male","Female","Other"],optionSelected:null}},surveyQuestions:{s1:{title:"An excessive use of social media platforms can lead to negative effects in physical and mental health",options:["Strongly Disagree","Disagree","Undecided","Agree","Strongly agree"],optionSelected:null},s2:{title:"How much time do you spend on social media on a daily basis?",options:["Strongly Disagree","Disagree","Undecided","Agree","Strongly agree"],optionSelected:null}},userData:{quizDecisions:null,sceneDecisions:[],surveyDecisions:null}}}),_e={getUsersCollection:function(e){return e.usersCollection},getScenesCollection:function(e){return e.scenesCollection},getUserData:function(e){return e.userData},getQuizQuestions:function(e){return e.quizQuestions},getSurveyQuestions:function(e){return e.surveyQuestions},getSceneOptions:function(e){return function(t){return e.scenesOptions[t]}}},Ae={saveData:function(e){e.commit,e.getters}},Ie={saveData:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&console.log(n.responseText)},n.open("POST","https://api.jsonbin.io/v3/b",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Master-Key",e.masterKey),n.setRequestHeader("X-Collection-Id",t),n.send(JSON.stringify(e.userData))},saveQuizDecisions:function(e,t){e.userData.quizDecisions=t},saveSurveyDecisions:function(e,t){e.userData.surveyDecisions=t},saveSceneDecision:function(e,t){e.userData.sceneDecisions.push(t)}},Me={namespaced:!0,state:Te,getters:_e,actions:Ae,mutations:Ie},Re=function(){return{stages:["Welcome","Quiz","Scene1","Survey","Final"],currentStageIndex:0,sceneLoading:!1}},$e={isCurrentStage:function(e){return function(t){return e.stages[e.currentStageIndex]==t}},isSceneLoading:function(e){return e.sceneLoading},isLastStage:function(e){return e.currentStageIndex==e.stages.length-1}},Ee={nextStage:function(e){var t=e.commit;t("nextStage"),t("saveData")}},Ue={nextStage:function(e){e.currentStageIndex+1<e.stages.length&&(e.currentStageIndex++,e.stages[e.currentStageIndex].includes("Scene")&&(e.sceneLoading=!e.sceneLoading))},loadingSwitch:function(e){e.sceneLoading=!e.sceneLoading},saveData:function(e){e.currentStageIndex==e.stages.length-1&&this.dispatch("data/saveData",{root:!0})}},Ve={namespaced:!0,state:Re,getters:$e,actions:Ee,mutations:Ue},He=Object(f["a"])({modules:{data:Me,stages:Ve}}),Ne=n("af1e");Object(i["b"])(qe).use(He).use(Ne["a"]).mount("#app")}});
//# sourceMappingURL=app.56a6b31a.js.map