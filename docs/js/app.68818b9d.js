(function(e){function t(t){for(var a,c,s=t[0],r=t[1],u=t[2],l=0,g=[];l<s.length;l++)c=s[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&g.push(o[c][0]),o[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);d&&d(t);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var r=n[s];0!==o[r]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},i=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=r;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(e,t,n,o,i,c){var s=Object(a["r"])("Welcome"),r=Object(a["r"])("About"),u=Object(a["r"])("Scenes"),d=Object(a["r"])("Survey"),l=Object(a["r"])("Final");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s),Object(a["g"])(r),Object(a["g"])(u),Object(a["g"])(d),Object(a["g"])(l)],64)}var i={key:0},c={class:"card-container"},s={class:"card-title"},r={class:"card-body"},u={class:"card-action"},d={id:"flag-space"};function l(e,t,n,o,l,g){var f=Object(a["r"])("Continue"),b=Object(a["r"])("SelectFlag");return e.currentScene("Welcome")?(Object(a["m"])(),Object(a["e"])("div",i,[Object(a["f"])("div",c,[Object(a["f"])("div",s,[Object(a["f"])("h1",null,Object(a["s"])(e.getLabel("welcome_title")),1)]),Object(a["f"])("div",r,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("welcome_body")),1)]),Object(a["f"])("div",u,[Object(a["g"])(f)]),Object(a["f"])("div",d,[Object(a["g"])(b)])])])):Object(a["d"])("",!0)}var g=n("5530"),f=n("5502"),b={computed:Object(g["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))},m=n("d959"),p=n.n(m);const h=p()(b,[["render",l]]);var v=h,O={key:0};function j(e,t,n,o,i,c){var s=Object(a["r"])("Form");return e.currentScene("About")?(Object(a["m"])(),Object(a["e"])("div",O,[Object(a["g"])(s,{propQuestions:c.aboutQuestions,title:e.getLabel("about_title"),saveFunction:"saveAboutDecisions"},null,8,["propQuestions","title"])])):Object(a["d"])("",!0)}var y={computed:Object(g["a"])({aboutQuestions:function(){return{age:{title:this.getLabel("about_age"),options:["10-","11-15","15-19","20+"]},gender:{title:this.getLabel("about_gender"),options:this.getLabel("about_gender_options")}}}},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};const S=p()(y,[["render",j]]);var x=S;function L(e,t,n,o,i,c){var s=Object(a["r"])("Scene1"),r=Object(a["r"])("Scene"),u=Object(a["r"])("Scene2");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(r,{sceneName:"Scene1"},{default:Object(a["v"])((function(){return[Object(a["g"])(s)]})),_:1}),Object(a["g"])(r,{sceneName:"Scene2"},{default:Object(a["v"])((function(){return[Object(a["g"])(u)]})),_:1})],64)}function A(e,t,n,o,i,c){var s=Object(a["r"])("PerspectiveCamera"),r=Object(a["r"])("AmbientLight"),u=Object(a["r"])("Loader"),d=Object(a["r"])("Scene"),l=Object(a["r"])("Renderer");return Object(a["m"])(),Object(a["c"])(l,{ref:"renderer",resize:"window"},{default:Object(a["v"])((function(){return[Object(a["g"])(s,{ref:"camera",position:i.cameraPosition,lookAt:i.cameraLookAt},null,8,["position","lookAt"]),Object(a["g"])(d,{ref:"scene",background:"#000000"},{default:Object(a["v"])((function(){return[Object(a["g"])(r,{intensity:.8},null,8,["intensity"]),Object(a["g"])(u,{ref:"loader",payload:{blenderSceneName:"scene1",fbx:[{path:"Texting",position:{x:-.3,y:0,z:-1.3},scale:{x:.002,y:.002,z:.002},rotation:{y:2*Math.PI*.75}},{path:"Sitting Talking Right",position:{x:-1,y:.15,z:-1},scale:{x:.002,y:.002,z:.002},rotation:{y:2*Math.PI*.25}},{path:"Sitting Talking Left",position:{x:-1,y:.15,z:-.6},scale:{x:.002,y:.002,z:.002},rotation:{y:2*Math.PI*.25}}]}},null,8,["payload"])]})),_:1},512)]})),_:1},512)}var k=n("cffa"),P={data:function(){var e=[{x:-1,y:.8,z:-1},{x:0,y:0,z:0}],t=[{x:-3,y:1,z:-3},{x:-3,y:2,z:-2}];return{cameras:t.length,cameraPositions:t,cameraPosition:Object.assign({},t[0]),cameraLookAts:e,cameraLookAt:Object.assign({},e[0]),ANIM_TIME:1}},mounted:function(){var e=this;this.scene=this.$refs.scene,this.renderer=this.$refs.renderer,this.$store.commit("stages/setScene",this.scene),this.renderer.onBeforeRender((function(){e.$refs.loader.update(),e.update()}))},watch:{camera:function(e,t){e%=this.cameras,this.swap(this.cameraPosition,this.cameraPositions[e]),this.swap(this.cameraLookAt,this.cameraLookAts[e])}},computed:Object(g["a"])({},Object(f["c"])({camera:"stages/getSceneCamera",gltf:"stages/getGLTF"})),methods:{update:function(){this.gltf},swap:function(e,t){k["a"].to(e,{duration:this.ANIM_TIME,x:t.x,y:t.y,z:t.z})}}};const _=p()(P,[["render",A]]);var T=_;function C(e,t,n,o,i,c){var s=Object(a["r"])("PerspectiveCamera"),r=Object(a["r"])("AmbientLight"),u=Object(a["r"])("Loader"),d=Object(a["r"])("Scene"),l=Object(a["r"])("Renderer");return Object(a["m"])(),Object(a["c"])(l,{ref:"renderer",resize:"window"},{default:Object(a["v"])((function(){return[Object(a["g"])(s,{ref:"camera",position:i.cameraPosition,lookAt:i.cameraLookAt},null,8,["position","lookAt"]),Object(a["g"])(d,{ref:"scene",background:"#000000"},{default:Object(a["v"])((function(){return[Object(a["g"])(r,{intensity:.8},null,8,["intensity"]),Object(a["g"])(u,{ref:"loader",payload:{blenderSceneName:"scene2",fbx:[{path:"Walking",position:{x:1,y:0,z:0},scale:{x:.002,y:.002,z:.002},rotation:{y:2*Math.PI*0}}]}},null,8,["payload"])]})),_:1},512)]})),_:1},512)}var w={data:function(){var e=[{x:1,y:.5,z:0}],t=[{x:1,y:.5,z:1.5}];return{cameras:t.length,cameraPositions:t,cameraPosition:Object.assign({},t[0]),cameraLookAts:e,cameraLookAt:Object.assign({},e[0]),ANIM_TIME:1}},mounted:function(){var e=this;this.scene=this.$refs.scene,this.renderer=this.$refs.renderer,this.sceneCamera=this.$refs.camera.camera,this.$store.commit("stages/setScene",this.scene),this.renderer.onBeforeRender((function(){e.$refs.loader.update(),e.update()}))},watch:{camera:function(e,t){e%=this.cameras,this.swap(this.cameraPosition,this.cameraPositions[e]),this.swap(this.cameraLookAt,this.cameraLookAts[e])}},computed:Object(g["a"])({},Object(f["c"])({camera:"stages/getSceneCamera",gltf:"stages/getGLTF"})),methods:{update:function(){this.gltf&&(this.gltf.rotation.y+=.003)},swap:function(e,t){k["a"].to(e,{duration:this.ANIM_TIME,x:t.x,y:t.y,z:t.z})}}};const M=p()(w,[["render",C]]);var F=M,I={key:0};function z(e,t,n,o,i,c){var s=Object(a["r"])("Options"),r=Object(a["r"])("Report");return e.currentStage(n.sceneName)?(Object(a["m"])(),Object(a["e"])("div",I,[Object(a["q"])(e.$slots,"default"),Object(a["g"])(s,{information:c.options},null,8,["information"]),Object(a["g"])(r,{sceneName:n.sceneName},null,8,["sceneName"])])):Object(a["d"])("",!0)}var D={props:["sceneName"],mounted:function(){this.scene=this.$refs.scene},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])({currentStage:"stages/isCurrentStage",getLabel:"data/getLabel"})),{},{options:function(){return{description:this.getLabel("".concat(this.sceneName,"_desc")),title:this.getLabel("".concat(this.sceneName,"_title")),options:this.getLabel("".concat(this.sceneName,"_options"))}}})};const E=p()(D,[["render",z]]);var R=E,N={name:"Scenes",components:{Scene:R,Scene1:T,Scene2:F}};const G=p()(N,[["render",L]]);var $=G,Y={key:0};function B(e,t,n,o,i,c){var s=Object(a["r"])("Form");return e.currentScene("Survey")?(Object(a["m"])(),Object(a["e"])("div",Y,[Object(a["g"])(s,{title:e.getLabel("survey_title"),propQuestions:c.surveyQuestions,saveFunction:"saveSurveyDecisions"},null,8,["title","propQuestions"])])):Object(a["d"])("",!0)}var U={computed:Object(g["a"])({surveyQuestions:function(){var e=this.getLabel("survey_options");return{s1:{title:this.getLabel("s1_title"),options:e},s2:{title:this.getLabel("s2_title"),options:e},s3:{title:this.getLabel("s2_title"),options:e}}}},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};const Q=p()(U,[["render",B]]);var q=Q,H={key:0},W={class:"card-container"},X={class:"card-title"},Z={class:"card-body"},J={class:"card-action"};function K(e,t,n,o,i,c){return e.currentScene("Final")?(Object(a["m"])(),Object(a["e"])("div",H,[Object(a["f"])("div",W,[Object(a["f"])("div",X,[Object(a["f"])("h1",null,Object(a["s"])(e.getLabel("final_title")),1)]),Object(a["f"])("div",Z,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("final_body")),1)]),Object(a["f"])("div",J,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(e){return c.reloadPage()})},Object(a["s"])(e.getLabel("final_restart")),1)])])])):Object(a["d"])("",!0)}var V={computed:Object(g["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"})),methods:{reloadPage:function(){window.location.reload()}}};const ee=p()(V,[["render",K]]);var te=ee,ne={name:"App",components:{Welcome:v,About:x,Scenes:$,Survey:q,Final:te},mounted:function(){this.$store.dispatch("stages/onAppLoad")}};const ae=p()(ne,[["render",o]]);var oe=ae;function ie(e,t,n,o,i,c){return Object(a["m"])(),Object(a["e"])("button",{onClick:t[0]||(t[0]=function(t){return e.nextStage()})},Object(a["s"])(e.getLabel("continue")),1)}var ce={computed:Object(g["a"])({},Object(f["c"])({getLabel:"data/getLabel"})),methods:Object(g["a"])({},Object(f["b"])({nextStage:"stages/nextStage"}))};const se=p()(ce,[["render",ie]]);var re=se,ue=(n("b64b"),{class:"card-container"}),de={class:"card-title"},le={class:"card-body"},ge={class:"form-element-title"},fe={class:"form-element-options"},be=["onClick"],me={class:"card-action"};function pe(e,t,n,o,i,c){var s=Object(a["r"])("Popup");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s,{ref:"popup",message:e.getLabel("popup")},null,8,["message"]),Object(a["f"])("div",ue,[Object(a["f"])("div",de,[Object(a["f"])("h2",null,Object(a["s"])(n.title),1)]),Object(a["f"])("div",le,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(Object.keys(c.currentPage),(function(e){return Object(a["m"])(),Object(a["e"])("div",{class:"form-element",key:e},[Object(a["f"])("div",ge,Object(a["s"])(c.currentPage[e].title),1),Object(a["f"])("div",fe,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(c.currentPage[e].options,(function(t,n){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["form-element-option",{selected:t===c.currentPage[e].optionSelected}]),key:t,onClick:function(a){return c.onDecisionClick(c.currentPage[e],t,n)}},Object(a["s"])(t),11,be)})),128))])])})),128))]),Object(a["f"])("div",me,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(){return c.onContinue&&c.onContinue.apply(c,arguments)})},Object(a["s"])(e.getLabel("continue")),1)])])],64)}var he=n("3835"),ve=(n("4de4"),n("d3b7"),n("caad"),n("2532"),n("4fad"),{props:{propQuestions:Object,title:String,saveFunction:String},data:function(){return{questions:this.propQuestions,pageIndex:0,pageSize:2}},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])({getLabel:"data/getLabel"})),{},{dataValidated:function(){var e=this;return 0==Object.keys(this.currentPage).filter((function(t){return!e.currentPage[t].options.includes(e.currentPage[t].optionSelected)})).length},currentPage:function(){return this.paginateQuestions(this.questions,this.pageSize)[this.pageIndex]}}),methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({nextStage:"stages/nextStage"})),{},{onContinue:function(){this.dataValidated?(this.saveData(),this.pageIndex===this.pagesLength-1?this.nextStage():this.pageIndex++):this.$refs.popup.activate()},saveData:function(){this.formatDataForSave(),this.$store.commit("data/".concat(this.saveFunction),this.currentPage)},onDecisionClick:function(e,t,n){e.optionSelected=t,e.optionSelectedIndex=n},formatDataForSave:function(){for(var e=0,t=Object.keys(this.currentPage);e<t.length;e++){var n=t[e];this.currentPage[n]=this.currentPage[n].optionSelectedIndex}},paginateQuestions:function(e,t){for(var n=[],a={},o=0,i=0,c=Object.entries(e);i<c.length;i++){var s=Object(he["a"])(c[i],2),r=s[0],u=s[1];0!==o&&o%t===0&&(n.push(a),a={}),a[r]=u,o++}return 0!==Object.keys(a).length&&n.push(a),this.pagesLength=n.length,n}})});const Oe=p()(ve,[["render",pe]]);var je=Oe;function ye(e,t,n,o,i,c){var s=Object(a["r"])("ShaderMaterial"),r=Object(a["r"])("Plane");return Object(a["m"])(),Object(a["c"])(r,{ref:"loadingScreen",width:2,height:2,position:{y:-2,z:0}},{default:Object(a["v"])((function(){return[Object(a["g"])(s,{props:{vertexShader:i.vs,fragmentShader:i.fs,uniforms:i.us}},null,8,["props"])]})),_:1},512)}n("b0c0");var Se=n("5a89"),xe="\nvarying vec2 vUv;\nuniform float uTime;\nvarying float vTime;\nvoid main()\n{\n    gl_Position = vec4(position, 1.0);\n    vUv = uv;\n    vTime = uTime;\n}\n",Le="\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying float vTime;\n\nvec4 permute(vec4 x)\n{\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\n\nvec2 fade(vec2 t)\n{\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    float strength = 1.0 - step(sin(vTime*0.6), sin(cnoise(vUv * 10.0) * 20.0));\n    gl_FragColor = vec4(vec3(strength), uAlpha);\n}\n",Ae={data:function(){return{FADETIME:1,us:{uAlpha:{value:1},uTime:{value:0}},vs:xe,fs:Le}},mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.loadingScreen.mesh.name="loadingPlane",this.loadingScreenMaterial=this.loadingScreen.material,this.loadingScreenMaterial.transparent=!0,this.clock=new Se["p"]},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({loadingFinish:"stages/loadingFinish"})),{},{finish:function(){var e=this;k["a"].to(this.loadingScreenMaterial.uniforms.uAlpha,{duration:this.FADETIME,value:0,onComplete:function(){e.loadingFinish()}})},update:function(){var e=this.clock.getElapsedTime();this.us.uTime.value=e}})};const ke=p()(Ae,[["render",ye]]);var Pe=ke;function _e(e,t,n,o,i,c){return n.message?(Object(a["m"])(),Object(a["e"])("button",{key:0,class:Object(a["k"])(["option hided",{active:!e.sceneLoading,disabled:n.disabled}]),onClick:t[0]||(t[0]=function(){return c.onClick&&c.onClick.apply(c,arguments)})},Object(a["s"])(n.message),3)):Object(a["d"])("",!0)}n("a9e3");var Te={props:{index:Number,message:String,disabled:{type:Boolean,default:!1}},computed:Object(g["a"])({},Object(f["c"])({sceneLoading:"stages/isSceneLoading"})),methods:{onClick:function(){this.disabled||this.$store.commit("data/saveSceneDecision",this.index)}}};const Ce=p()(Te,[["render",_e]]);var we=Ce,Me=(n("a4d3"),n("e01a"),{key:0,class:"description"}),Fe={class:"title"},Ie={class:"options",id:"options"},ze={class:"icons"};function De(e,t,n,o,i,c){var s=this,r=Object(a["r"])("Option");return Object(a["m"])(),Object(a["e"])("div",null,[e.sceneLoading?(Object(a["m"])(),Object(a["e"])("div",Me,[Object(a["f"])("h1",null,Object(a["s"])(n.information.description),1)])):Object(a["d"])("",!0),Object(a["f"])("div",Fe,[Object(a["g"])(r,{message:n.information.title,disabled:""},null,8,["message"])]),Object(a["f"])("div",Ie,[Object(a["f"])("div",ze,[Object(a["f"])("div",null,[Object(a["f"])("span",{class:Object(a["k"])(["info hided",{active:!e.sceneLoading}]),id:"mood"},[Object(a["f"])("b",null,Object(a["s"])(c.moodFormatted),1)],2)]),Object(a["f"])("div",null,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(e){return i.isExpanded=!i.isExpanded}),class:Object(a["k"])(["material-icons icon hided",{active:!e.sceneLoading}])},Object(a["s"])(c.icon),3)]),Object(a["f"])("div",null,[Object(a["f"])("button",{class:Object(a["k"])(["material-icons icon hided",{active:!e.sceneLoading}]),onClick:t[1]||(t[1]=function(e){return s.$store.commit("stages/nextCamera")})}," 360 ",2)])]),Object(a["f"])("div",{class:Object(a["k"])(["options_content",{expanded:i.isExpanded}])},[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.information.options,(function(e,t){return Object(a["m"])(),Object(a["c"])(r,{key:e,message:e,index:t},null,8,["message","index"])})),128))],2)])])}n("99af");var Ee={props:["information"],data:function(){return{isExpanded:!0}},watch:{sceneReporting:function(e,t){!0===e&&document.getElementById("options").remove()}},computed:Object(g["a"])(Object(g["a"])({},Object(f["c"])({sceneLoading:"stages/isSceneLoading",sceneReporting:"stages/isSceneReporting",currentCamera:"stages/getSceneCamera",mood:"data/getMood",getLabel:"data/getLabel"})),{},{moodFormatted:function(){return"".concat(this.getLabel("mood"),": ").concat(100*this.mood,"%")},icon:function(){return this.isExpanded?"expand_more":"expand_less"}})};const Re=p()(Ee,[["render",De]]);var Ne=Re;function Ge(e,t,n,o,i,c){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["popup warning",{popupActive:i.activated,popupInactive:i.deactivated}])},[Object(a["f"])("h5",null,Object(a["s"])(n.message),1)],2)}var $e={data:function(){return{POPUP_TIME:2,activated:!1,deactivated:!1}},props:["message"],methods:{activate:function(){if(!this.activated){this.activated=!0,this.deactivated=!1;var e=this;setTimeout((function(){e.deactivate()}),1e3*this.POPUP_TIME)}},deactivate:function(){this.activated=!1,this.deactivated=!0}}};const Ye=p()($e,[["render",Ge]]);var Be=Ye;function Ue(e,t,n,o,i,c){var s=Object(a["r"])("Camera"),r=Object(a["r"])("NoisyImage"),u=Object(a["r"])("Scene"),d=Object(a["r"])("Renderer");return Object(a["m"])(),Object(a["c"])(d,{ref:"renderer"},{default:Object(a["v"])((function(){return[Object(a["g"])(s,{position:{x:0,y:0,z:100}}),Object(a["g"])(u,{ref:"scene"},{default:Object(a["v"])((function(){return[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(i.langs,(function(e){return Object(a["m"])(),Object(a["c"])(r,{key:e,src:"./assets/images/".concat(e.type,".png"),width:120,dispCoef:0,"z-coef":i.selected===e.type?5:0,position:{x:e.pos,y:0,z:0},onClick:function(t){return c.onClick(e.type)},onPointerOver:c.onMouseOver},null,8,["src","z-coef","position","onClick","onPointerOver"])})),128))]})),_:1},512)]})),_:1},512)}var Qe=n("00ac"),qe={components:{NoisyImage:Qe["a"]},data:function(){return{langs:[{type:"CAT",pos:45},{type:"ENG",pos:-45}],selected:""}},mounted:function(){this.selected=this.getLanguage},computed:Object(g["a"])({},Object(f["c"])({getLanguage:"data/getLanguage"})),methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({setLanguage:"data/setLanguage"})),{},{onMouseOver:function(e){var t=e.over;e.component;document.getElementById("flag-space").style.cursor=t?"pointer":"default"},onClick:function(e){this.setLanguage(e),this.selected=e}})};const He=p()(qe,[["render",Ue]]);var We=He,Xe={key:0},Ze={class:"card-container"},Je={class:"card-body"},Ke={class:"card-action"};function Ve(e,t,n,o,i,c){var s=Object(a["r"])("Continue");return e.sceneReporting?(Object(a["m"])(),Object(a["e"])("div",Xe,[Object(a["f"])("div",Ze,[Object(a["f"])("div",Je,[Object(a["f"])("p",null,Object(a["s"])(e.getLabel("".concat(n.sceneName,"_report"))[e.decisionTaken]),1)]),Object(a["f"])("div",Ke,[Object(a["g"])(s)])])])):Object(a["d"])("",!0)}var et={props:["sceneName"],computed:Object(g["a"])({},Object(f["c"])({sceneReporting:"stages/isSceneReporting",getLabel:"data/getLabel",decisionTaken:"data/getDecisionTaken"}))};const tt=p()(et,[["render",Ve]]);var nt=tt;function at(e,t,n,o,i,c){var s=Object(a["r"])("LoadingScreen"),r=Object(a["r"])("LoadBlender"),u=Object(a["r"])("LoadFBX");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s,{ref:"loadingScreen"},null,512),Object(a["g"])(r,{ref:"blender",sceneName:n.payload.blenderSceneName},null,8,["sceneName"]),Object(a["g"])(u,{ref:"fbx",models:n.payload.fbx},null,8,["models"])],64)}var ot={props:{payload:Object},computed:Object(g["a"])({},Object(f["c"])({isSceneLoading:"stages/isSceneLoading"})),mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.blender=this.$refs.blender,this.fbx=this.$refs.fbx},methods:{update:function(){this.fbx.update(),this.isSceneLoading&&this.loadingScreen.update(),this.isSceneLoading&&this.isLoaded()&&this.loadingScreen.finish()},isLoaded:function(){return this.blender.isLoaded&&this.fbx.isLoaded}}};const it=p()(ot,[["render",at]]);var ct=it;function st(e,t,n,o,i,c){return Object(a["m"])(),Object(a["e"])("div")}n("159b");var rt=n("34ad"),ut=n("0ca5"),dt={props:["sceneName"],mounted:function(){var e=this;if(this.isLoaded=!1,this.sceneName){var t=new Se["nc"],n=new ut["a"],a=new rt["a"];n.setDecoderPath("./assets/draco/"),a.setDRACOLoader(n);var o=t.load("./assets/scenes/".concat(this.sceneName,"/baked.jpg"));o.flipY=!1;var i=new Se["ob"]({map:o}),c=new Se["ob"]({color:16777189});a.load("./assets/scenes/".concat(this.sceneName,"/scene.glb"),(function(t){t.scene.traverse((function(e){e.material=i})),t.scene.children.filter((function(e){return e.name.includes("Light")})).forEach((function(e){return e.material=c})),e.addScene(t.scene),e.isLoaded=!0}))}else this.isLoaded=!0},methods:Object(g["a"])({},Object(f["b"])({addScene:"stages/addGLTFScene"}))};const lt=p()(dt,[["render",st]]);var gt=lt;function ft(e,t,n,o,i,c){var s=Object(a["r"])("Aura"),r=Object(a["r"])("FbxModel");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s,{ref:"aura"},null,512),(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.models,(function(e){return Object(a["m"])(),Object(a["c"])(r,{key:e,src:"./assets/models/".concat(e.path,".fbx"),onLoad:c.onLoad,scale:e.scale||{x:.01,y:.01,z:.01},position:e.position||{x:0,y:0,z:0},rotation:e.rotation||{y:.5*-Math.PI}},null,8,["src","onLoad","scale","position","rotation"])})),128))],64)}function bt(e,t,n,o,i,c){return Object(a["m"])(),Object(a["e"])("div")}n("cfc3"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var mt="\nuniform float uTime;\nuniform float uPixelRatio;\nuniform float uSize;\n\nattribute float aScale;\n\nvoid main()\n{\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    modelPosition.y += sin(uTime + modelPosition.x * 100.0) * aScale * 0.2;\n\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectionPosition;\n    \n    gl_PointSize = uSize * aScale * uPixelRatio;\n    gl_PointSize *= (1.0 / - viewPosition.z);\n}\n",pt="\nuniform vec3 uColor;\n\nvoid main()\n{\n    float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n    float strength = 0.05 / distanceToCenter - 0.1;\n\n    gl_FragColor = vec4(uColor, strength);\n}\n",ht={data:function(){return{vs:mt,fs:pt,loaded:!1,AURA_HEIGHT:.8,AURA_SIZE:.3}},mounted:function(){this.clock=new Se["p"],this.firefliesMaterial=null,this.fireflies=null,this.red=new Se["q"]("red"),this.green=new Se["q"]("green")},methods:{init:function(e){for(var t=this,n=new Se["k"],a=60,o=new Float32Array(3*a),i=new Float32Array(a),c=0;c<a;c++)o[3*c+0]=Math.random()*this.AURA_SIZE+e.x-this.AURA_SIZE/2,o[3*c+1]=Math.random()*this.AURA_HEIGHT,o[3*c+2]=Math.random()*this.AURA_SIZE+e.z-this.AURA_SIZE/2,i[c]=Math.random();n.setAttribute("position",new Se["j"](o,3)),n.setAttribute("aScale",new Se["j"](i,1));var s=this.red.lerp(this.green,this.mood);this.firefliesMaterial=new Se["ac"]({uniforms:{uTime:{value:0},uPixelRatio:{value:Math.min(window.devicePixelRatio,2)},uSize:{value:342},uColor:{value:s}},vertexShader:mt,fragmentShader:pt,transparent:!0,blending:Se["b"],depthWrite:!1}),this.fireflies=new Se["Kb"](n,this.firefliesMaterial),window.addEventListener("resize",(function(){t.firefliesMaterial.uniforms.uPixelRatio.value=Math.min(window.devicePixelRatio,2)})),document.getElementById("mood").style.background="\n            linear-gradient(\n                90deg, \n                #".concat(s.getHexString()," ").concat(100*this.mood,"%, \n                #FFFFFF ").concat(100*this.mood,"%\n            )"),this.load()},load:function(){this.$store.commit("stages/addToScene",this.fireflies),this.loaded=!0},update:function(){if(this.loaded){var e=this.clock.getElapsedTime();this.firefliesMaterial.uniforms.uTime.value=e}}},computed:Object(g["a"])({},Object(f["c"])({mood:"data/getMood"}))};const vt=p()(ht,[["render",bt]]);var Ot=vt,jt={props:{models:Array},components:{Aura:Ot},mounted:function(){this.modelsSize=this.models&&this.models.length?this.models.length:0,this.isLoaded=0===this.modelsSize,this.animations=[]},methods:{update:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())})),this.$refs.aura.update()},onLoad:function(e){var t=new Se["e"](e);t.clipAction(e.animations[0]).play();var n=new Se["p"];0===this.animations.length&&this.$refs.aura.init(this.models[0].position),this.animations.push({animation:t,clock:n}),this.animations.length===this.modelsSize&&(this.isLoaded=!0)}}};const yt=p()(jt,[["render",ft]]);var St=yt,xt=(n("7db0"),n("e9c4"),{continue:["Continue","Avanza","Avança"],popup:["Fill answers please","Rellena las preguntas por favor","Emplena les preguntes siusplau"],welcome_title:["TFG","TFG","TFG"],welcome_body:["Game for raising awarness on social media addiction","Juego para concienciar sobre la adicción a las redes sociales","Joc per conscienciar sobre l'addicció a les xarxes socials"],final_title:["Game end","Fin del juego","Fi del joc"],final_body:["Thanks","Gracias","Gracies"],final_restart:["Restart","Reinicia","Reinicia"],about_title:["About you","Sobre ti","Sobre tu"],about_age:["Select your age","Selecciona tu edad","Selecciona la teva edat"],about_gender:["Select your gender","Selecciona tu genero","Selecciona el teu genere"],about_gender_options:[["Male","Female","Other"],["Hombre","Mujer","Otro"],["Home","Dona","Altre"]],survey_title:["Final survey","Encuesta final","Enquesta final"],s1_title:["ENGAn excessive use of social media platforms can lead to negative effects in physical and mental health","ESPAn excessive use of social media platforms can lead to negative effects in physical and mental health","CATAn excessive use of social media platforms can lead to negative effects in physical and mental health"],s2_title:["ENGAn excessive use of social media platforms can lead to negative effects in physical and mental health","ESPAn excessive use of social media platforms can lead to negative effects in physical and mental health","CATAn excessive use of social media platforms can lead to negative effects in physical and mental health"],survey_options:[["Disagree","Neutral","Agree"],["En desacuerdo","Neutral","De acuerdo"],["En desacord","Neutral","D'acord"]],mood:["Mood","Animos","Anims"],Scene1_desc:["Day 1 Scene 1","Dia 1 Situacion 1","Dia 1 Situacio 1"],Scene1_title:["Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas","Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas","Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas"],Scene1_options:[["You disconnect from the conversation and scroll through your phone","You disconnect from the conversation and scroll through your phone","You disconnect from the conversation and scroll through your phone"],["You participate in the conversation proposing some ideas","You participate in the conversation proposing some ideas","You participate in the conversation proposing some ideas"],["You just focus in finnishing your meal","You just focus in finnishing your meal","You just focus in finnishing your meal"]],Scene1_report:[["Bad","Mid.","Good"],["Bad","Mid.","Good"],["CATBad","CATMid.CATMid.CATMid.CATMid. CATMid.CATMid. CATMid.","cATGood"]],Scene2_desc:["Day 2 Scene 2","Dia 2 Situacion 2","Dia 2 Situacio 2"],Scene2_title:["Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas","Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas","Its early in the morning, you are eating your breakfast before going to school, in the table there are your parents, they start to talk about some family trip ideas"],Scene2_options:[["You disconnect from the conversation and scroll through your phone","You disconnect from the conversation and scroll through your phone","You disconnect from the conversation and scroll through your phone"],["You participate in the conversation proposing some ideas","You participate in the conversation proposing some ideas","You participate in the conversation proposing some ideas"],["You just focus in finnishing your meal","You just focus in finnishing your meal","You just focus in finnishing your meal"]],Scene2_report:[["Bad","Mid.","Good"],["Bad","Mid.","Good"],["CATBad","CATMid.CATMid.CATMid.CATMid. CATMid.CATMid. CATMid.","cATGood"]]}),Lt=function(){return{languages:{ENG:0,ESP:1,CAT:2},language:2,userData:{sceneDecisions:[],aboutDecisions:{},surveyDecisions:{}},mood:.5,decisionsMood:[[-.5,.3,0],[-.5,.3,0]],decisionTaken:null,scenesCollection:"61b4956f0ddbee6f8b1b8c7e",usersCollection:"61b49c4262ed886f915e5a13",masterKey:"$2b$10$yGbK6Zw/E5lzTl.TmQivFuhYR87PWV2Cy2TG.gIi8Lp2BLduGVNyq"}},At={getLabel:function(e){return function(t){return xt[t]?xt[t][e.language]:"No label"}},getLanguage:function(e){return Object.keys(e.languages).find((function(t){return e.languages[t]===e.language}))},getMood:function(e){return e.mood},getDecisionTaken:function(e){return e.decisionTaken},getUserData:function(e){return e.userData}},kt={setLanguage:function(e,t){var n=e.commit;n("setLanguage",t)},saveData:function(e){e.commit;var t=e.getters;console.log(t.getUserData)}},Pt={setLanguage:function(e,t){e.language=e.languages[t]},saveData:function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&console.log(t.responseText)},t.open("POST","https://api.jsonbin.io/v3/b",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-Master-Key",e.masterKey),t.setRequestHeader("X-Collection-Id",e.usersCollection),t.send(JSON.stringify(e.userData))},saveAboutDecisions:function(e,t){for(var n=0,a=Object.entries(t);n<a.length;n++){var o=Object(he["a"])(a[n],2),i=o[0],c=o[1];e.userData.aboutDecisions[i]=c}},saveSurveyDecisions:function(e,t){for(var n=0,a=Object.entries(t);n<a.length;n++){var o=Object(he["a"])(a[n],2),i=o[0],c=o[1];e.userData.surveyDecisions[i]=c}},saveSceneDecision:function(e,t){var n=e.userData.sceneDecisions.length;e.userData.sceneDecisions.push(t),e.mood+=e.decisionsMood[n][t],e.mood>1&&(e.mood=1),e.mood<0&&(e.mood=0),e.decisionTaken=t,this.commit("stages/reportStart",{root:!0})}},_t={namespaced:!0,state:Lt,getters:At,actions:kt,mutations:Pt},Tt=function(){return{stages:["Welcome","About","Scene1","Scene2","Survey","Final"],currentStageIndex:0,sceneLoading:!1,sceneReporting:!1,scene:null,gltfScene:null,sceneCamera:0}},Ct={isCurrentStage:function(e){return function(t){return e.stages[e.currentStageIndex]==t}},currentStageIsScene:function(e){return e.stages[e.currentStageIndex].includes("Scene")},isSceneLoading:function(e){return e.sceneLoading},isSceneReporting:function(e){return e.sceneReporting},getSceneCamera:function(e){return e.sceneCamera},getGLTF:function(e){return e.gltfScene},isLastStage:function(e){return e.currentStageIndex==e.stages.length-1}},wt={onAppLoad:function(e){var t=e.commit,n=e.getters;n.currentStageIsScene&&t("loadingStart")},nextStage:function(e){var t=e.commit,n=e.getters;n.isLastStage||t("nextStage"),n.currentStageIsScene&&t("loadingStart"),n.isLastStage&&t("saveData")},addGLTFScene:function(e,t){var n=e.commit;n("addToScene",t),n("setGLTFScene",t)},loadingFinish:function(e){var t=e.commit;t("removeLoading"),t("loadingEnd")}},Mt={nextStage:function(e){e.currentStageIndex++},setScene:function(e,t){e.scene=t},setGLTFScene:function(e,t){e.gltfScene=t},removeLoading:function(e){e.scene.remove(e.scene.scene.getObjectByName("loadingPlane"))},addToScene:function(e,t){e.scene.add(t)},loadingStart:function(e){e.sceneLoading=!0,e.sceneReporting=!1},loadingEnd:function(e){e.sceneLoading=!1},reportStart:function(e){e.sceneReporting=!0},reportEnd:function(e){e.sceneReporting=!1},saveData:function(){this.dispatch("data/saveData",{root:!0})},nextCamera:function(e){e.sceneCamera++}},Ft={namespaced:!0,state:Tt,getters:Ct,actions:wt,mutations:Mt},It=Object(f["a"])({modules:{data:_t,stages:Ft}}),zt=n("af1e");Object(a["b"])(oe).use(It).use(zt["b"]).component("Continue",re).component("Form",je).component("LoadingScreen",Pe).component("Report",nt).component("Option",we).component("Options",Ne).component("Popup",Be).component("SelectFlag",We).component("Loader",ct).component("LoadBlender",gt).component("LoadFBX",St).mount("#app")}});
//# sourceMappingURL=app.68818b9d.js.map