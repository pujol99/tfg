(function(e){function n(n){for(var o,c,a=n[0],s=n[1],u=n[2],f=0,d=[];f<a.length;f++)c=a[f],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(n);while(d.length)d.shift()();return i.push.apply(i,u||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,a=1;a<t.length;a++){var s=t[a];0!==r[s]&&(o=!1)}o&&(i.splice(n--,1),e=c(c.s=t[0]))}return e}var o={},r={app:0},i=[];function c(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.m=e,c.c=o,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)c.d(t,o,function(n){return e[n]}.bind(null,o));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=n,a=a.slice();for(var u=0;u<a.length;u++)n(a[u]);var l=s;i.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("7a23");function r(e,n,t,r,i,c){var a=Object(o["p"])("Welcome"),s=Object(o["p"])("Scenes"),u=Object(o["p"])("Final");return Object(o["l"])(),Object(o["e"])(o["a"],null,[Object(o["g"])(a),Object(o["g"])(s),Object(o["g"])(u)],64)}t("b0c0");var i={key:0};function c(e,n,t,r,c,a){var s=Object(o["p"])("WelcomeMessage"),u=Object(o["p"])("Options");return this.$store.getters.isCurrentScene(this.$options.name)?(Object(o["l"])(),Object(o["e"])("div",i,[Object(o["g"])(s),Object(o["g"])(u,{information:c.optionsProps},null,8,["information"])])):Object(o["d"])("",!0)}var a={class:"title"},s={class:"options"};function u(e,n,t,r,i,c){var u=Object(o["p"])("Option");return Object(o["v"])((Object(o["l"])(),Object(o["e"])("div",null,[Object(o["f"])("div",a,[Object(o["g"])(u,{message:t.information.title},null,8,["message"])]),Object(o["f"])("div",s,[Object(o["g"])(u,{message:t.information.option1},null,8,["message"]),Object(o["g"])(u,{message:t.information.option2},null,8,["message"]),Object(o["g"])(u,{message:t.information.option3},null,8,["message"])])],512)),[[o["s"],!this.$store.getters.isSceneLoading]])}var l={class:"option"};function f(e,n,t,r,i,c){var a=this;return t.message?(Object(o["l"])(),Object(o["e"])("div",{key:0,onClick:n[0]||(n[0]=function(e){return a.$store.commit("nextScene")})},[Object(o["f"])("button",l,Object(o["q"])(t.message),1)])):Object(o["d"])("",!0)}var d={name:"Option",props:["message"]},p=t("6b0d"),m=t.n(p);const v=m()(d,[["render",f]]);var g=v,b={name:"Options",props:["information"],components:{Option:g}};const O=m()(b,[["render",u]]);var h=O;function j(e,n,t,r,i,c){var a=Object(o["p"])("PerspectiveCamera"),s=Object(o["p"])("ShaderMaterial"),u=Object(o["p"])("Sphere"),l=Object(o["p"])("Scene"),f=Object(o["p"])("Renderer");return Object(o["l"])(),Object(o["c"])(f,{ref:"renderer",resize:"window",orbitCtrl:""},{default:Object(o["u"])((function(){return[Object(o["g"])(a,{ref:"camera",lookAt:i.cameraLookAt,position:i.cameraPosition},null,8,["lookAt","position"]),Object(o["g"])(l,{background:"#000000"},{default:Object(o["u"])((function(){return[Object(o["g"])(u,{ref:"sphere"},{default:Object(o["u"])((function(){return[Object(o["g"])(s,{ref:"material",props:{vertexShader:i.vs,fragmentShader:i.fs,uniforms:i.myUniforms}},null,8,["props"])]})),_:1},512)]})),_:1})]})),_:1},512)}var y=t("5a89"),x={data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:0,y:0,z:2},clock:null,myUniforms:{uTime:{value:0}},vs:"\n                varying vec2 vUv;\n                uniform float uTime;\n                varying float vTime;\n\n                void main()\n                {\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n                    vUv = uv;\n                    vTime = uTime;\n                }\n            ",fs:"\n                varying vec2 vUv;\n                #define PI 3.1415926535897932384626433832795\n                varying float vTime;\n\n                float random(vec2 st)\n                {\n                    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n                }\n\n                vec2 rotate(vec2 uv, float rotation, vec2 mid)\n                {\n                    return vec2(\n                    cos(rotation) * (uv.x - mid.x) + sin(rotation) * (uv.y - mid.y) + mid.x,\n                    cos(rotation) * (uv.y - mid.y) - sin(rotation) * (uv.x - mid.x) + mid.y\n                    );\n                }\n\n                //  Classic Perlin 2D Noise \n                //  by Stefan Gustavson\n                //\n                vec4 permute(vec4 x)\n                {\n                    return mod(((x*34.0)+1.0)*x, 289.0);\n                }\n\n                vec2 fade(vec2 t)\n                {\n                    return t*t*t*(t*(t*6.0-15.0)+10.0);\n                }\n\n                float cnoise(vec2 P)\n                {\n                    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n                    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n                    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n                    vec4 ix = Pi.xzxz;\n                    vec4 iy = Pi.yyww;\n                    vec4 fx = Pf.xzxz;\n                    vec4 fy = Pf.yyww;\n                    vec4 i = permute(permute(ix) + iy);\n                    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n                    vec4 gy = abs(gx) - 0.5;\n                    vec4 tx = floor(gx + 0.5);\n                    gx = gx - tx;\n                    vec2 g00 = vec2(gx.x,gy.x);\n                    vec2 g10 = vec2(gx.y,gy.y);\n                    vec2 g01 = vec2(gx.z,gy.z);\n                    vec2 g11 = vec2(gx.w,gy.w);\n                    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n                    g00 *= norm.x;\n                    g01 *= norm.y;\n                    g10 *= norm.z;\n                    g11 *= norm.w;\n                    float n00 = dot(g00, vec2(fx.x, fy.x));\n                    float n10 = dot(g10, vec2(fx.y, fy.y));\n                    float n01 = dot(g01, vec2(fx.z, fy.z));\n                    float n11 = dot(g11, vec2(fx.w, fy.w));\n                    vec2 fade_xy = fade(Pf.xy);\n                    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n                    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n                    return 2.3 * n_xy;\n                }\n\n                void main()\n                {  \n                    float strength = step(0.9, sin(cnoise(vUv * 10.0 * vUv.y) * 4.0 * vTime * 0.2));\n                    vec3 black = vec3(0.0);\n                    vec3 uvColor = vec3(vUv, 1.0);\n                    vec3 mixed = mix(black, uvColor, strength);\n                    gl_FragColor = vec4(mixed, 1.0);\n                }\n            "}},mounted:function(){this.renderer=this.$refs.renderer,this.camera=this.$refs.camera,this.material=this.$refs.material,this.sphere=this.$refs.sphere,this.clock=new y["p"],this.init()},methods:{init:function(){this.material.material.side=y["D"],this.renderer.onBeforeRender(this.animate)},animate:function(){var e=this.clock.getElapsedTime();this.myUniforms.uTime.value=e,this.sphere.mesh.rotateY(-Math.sin(e%3*.003)),this.sphere.mesh.rotateX(-Math.sin(1e-4*e))}}};const S=m()(x,[["render",j]]);var P=S,w={name:"Welcome",components:{WelcomeMessage:P,Options:h},data:function(){return{optionsProps:{title:"Alex TFG",option1:"Continue"}}}};const k=m()(w,[["render",c]]);var _=k;function z(e,n,t,r,i,c){var a=Object(o["p"])("Visuals1"),s=Object(o["p"])("Scene");return Object(o["l"])(),Object(o["c"])(s,{name:"Scene1"},{default:Object(o["u"])((function(){return[Object(o["g"])(a)]})),_:1})}function L(e,n,t,r,i,c){var a=Object(o["p"])("PerspectiveCamera"),s=Object(o["p"])("Sphere"),u=Object(o["p"])("PointLight"),l=Object(o["p"])("Plane"),f=Object(o["p"])("ShaderMaterial"),d=Object(o["p"])("FbxModel"),p=Object(o["p"])("Scene"),m=Object(o["p"])("Renderer");return Object(o["l"])(),Object(o["c"])(m,{ref:"renderer",resize:"window",orbitCtrl:""},{default:Object(o["u"])((function(){return[Object(o["g"])(a,{ref:"camera",lookAt:i.cameraLookAt,position:i.cameraPosition},null,8,["lookAt","position"]),Object(o["g"])(p,{ref:"scene",background:"#000000"},{default:Object(o["u"])((function(){return[Object(o["g"])(u,{position:{x:0,y:0,z:3},intensity:.4},{default:Object(o["u"])((function(){return[Object(o["g"])(s,{radius:.05},null,8,["radius"])]})),_:1},8,["intensity"]),Object(o["g"])(u,{position:{x:0,y:0,z:-3},intensity:.4},{default:Object(o["u"])((function(){return[Object(o["g"])(s,{radius:.05},null,8,["radius"])]})),_:1},8,["intensity"]),Object(o["g"])(l,{width:30,height:30,rotation:{x:-Math.PI/2,y:0,z:0},position:{y:-3}},null,8,["rotation"]),Object(o["g"])(l,{width:10,height:10,position:{y:-2,z:2}},{default:Object(o["u"])((function(){return[Object(o["g"])(f,{ref:"loadingScreen",props:{vertexShader:i.vs,fragmentShader:i.fs,uniforms:i.myUniforms}},null,8,["props"])]})),_:1}),Object(o["g"])(d,{src:"./assets/models/Standing Arguing.fbx",onLoad:c.onLoad,position:{y:-3,x:-1,z:0},rotation:{y:.5*Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"]),Object(o["g"])(d,{src:"./assets/models/Standing Arguing.fbx",onLoad:c.onLoad,position:{y:-3,x:1,z:0},rotation:{y:.5*-Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"])]})),_:1},512)]})),_:1},512)}t("d3b7"),t("159b");var A=t("cffa"),$={name:"Visuals1",data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:0,y:0,z:5},animations:[],numberOfObjects:2,myUniforms:{uAlpha:{value:1}},vs:"\n                void main()\n                {\n                    gl_Position = vec4(position, 1.0);\n                }\n            ",fs:"\n                uniform float uAlpha;\n\n                void main()\n                {\n                    gl_FragColor = vec4(0.0, 0.0, 0.0, uAlpha);\n                }\n            "}},mounted:function(){this.loadingScreen=this.$refs.loadingScreen.material,this.loadingScreen.transparent=!0,this.renderer=this.$refs.renderer,this.camera=this.$refs.camera,this.init()},methods:{init:function(){this.renderer.onBeforeRender(this.update)},update:function(){this.updateAnimations()},onLoad:function(e){var n=new y["e"](e);n.clipAction(e.animations[1]).play();var t=new y["p"];this.animations.push({animation:n,clock:t}),this.numberOfObjects==this.animations.length&&(this.$store.commit("loadingSwap"),A["a"].to(this.loadingScreen.uniforms.uAlpha,{duration:3,value:0}))},updateAnimations:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())}))}}};const C=m()($,[["render",L]]);var M=C,T={key:0};function I(e,n,t,r,i,c){var a=Object(o["p"])("Options");return this.$store.getters.isCurrentScene(t.name)?(Object(o["l"])(),Object(o["e"])("div",T,[Object(o["o"])(e.$slots,"default"),Object(o["g"])(a,{information:i.optionsProps},null,8,["information"])])):Object(o["d"])("",!0)}var U=t("1da1"),F=(t("96cf"),{components:{Options:h},props:{name:String},data:function(){return{optionsProps:null}},created:function(){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.getters.getSceneOptions(e.name);case 2:e.optionsProps=n.sent;case 3:case"end":return n.stop()}}),n)})))()}});const R=m()(F,[["render",I]]);var W=R,V={name:"Scenes",components:{Scene:W,Visuals1:M}};const D=m()(V,[["render",z]]);var G=D,B={key:0},E=Object(o["f"])("h3",null,"This is the final",-1);function J(e,n,t,r,i,c){return this.$store.getters.isCurrentScene(this.$options.name)?(Object(o["l"])(),Object(o["e"])("div",B,[E,Object(o["f"])("button",{onClick:n[0]||(n[0]=function(){return c.reloadPage&&c.reloadPage.apply(c,arguments)})},"restart game")])):Object(o["d"])("",!0)}var Y={name:"Final",methods:{reloadPage:function(){window.location.reload()}}};const q=m()(Y,[["render",J]]);var N=q,X={name:"App",components:{Welcome:_,Scenes:G,Final:N}};const H=m()(X,[["render",r]]);var K=H,Q=t("af1e"),Z=(t("caad"),t("2532"),t("5502")),ee=Object(Z["a"])({state:function(){return{scenes:["Welcome","Scene1","Final"],currentSceneIndex:0,sceneLoading:!1,scenesOptions:{Scene1:{title:"Your friend is sad because she failed, but you are on the phone",option1:"Ignore and stay on the phone.",option2:"Listen while on the phone.",option3:"Give her all your attention."}}}},mutations:{nextScene:function(e){e.currentSceneIndex+1<e.scenes.length&&(e.currentSceneIndex++,e.scenes[e.currentSceneIndex].includes("Scene")&&(e.sceneLoading=!e.sceneLoading))},prevScene:function(e){e.currentSceneIndex-1<0&&e.currentSceneIndex--},loadingSwap:function(e){e.sceneLoading=!e.sceneLoading}},getters:{isCurrentScene:function(e){return function(n){return e.scenes[e.currentSceneIndex]==n}},isSceneLoading:function(e){return e.sceneLoading},getSceneOptions:function(e){return function(n){return e.scenesOptions[n]}}}});Object(o["b"])(K).use(ee).use(Q["a"]).mount("#app")}});
//# sourceMappingURL=app.88c01af3.js.map