(function(e){function t(t){for(var a,o,s=t[0],r=t[1],u=t[2],d=0,g=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&g.push(c[o][0]),c[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);l&&l(t);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var r=n[s];0!==c[r]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=r;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0407":function(e,t,n){},1146:function(e,t,n){"use strict";n("0407")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t,n,c,i,o){var s=Object(a["t"])("Welcome"),r=Object(a["t"])("About"),u=Object(a["t"])("Scenes"),l=Object(a["t"])("Survey"),d=Object(a["t"])("Final");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s),Object(a["g"])(r),Object(a["g"])(u),Object(a["g"])(l),Object(a["g"])(d)],64)}var i={key:0},o={class:"card-container"},s={class:"card-title"},r={class:"card-body"},u={class:"card-action"},l={class:"flag-space"};function d(e,t,n,c,d,g){var f=Object(a["t"])("Continue"),b=Object(a["t"])("Flag");return e.currentScene("Welcome")?(Object(a["m"])(),Object(a["e"])("div",i,[Object(a["f"])("div",o,[Object(a["f"])("div",s,[Object(a["f"])("h1",null,Object(a["u"])(e.getLabel("welcome_title")),1)]),Object(a["f"])("div",r,[Object(a["f"])("p",null,Object(a["u"])(e.getLabel("welcome_description")),1)]),Object(a["f"])("div",u,[Object(a["g"])(f)]),Object(a["f"])("div",l,[Object(a["g"])(b)])])])):Object(a["d"])("",!0)}var g=n("5530"),f=n("5502");function b(e,t,n,c,i,o){return Object(a["m"])(),Object(a["e"])("button",{onClick:t[0]||(t[0]=function(t){return e.nextStage()})},Object(a["u"])(e.getLabel("continue")),1)}var p={computed:Object(g["a"])({},Object(f["c"])({getLabel:"data/getLabel"})),methods:Object(g["a"])({},Object(f["b"])({nextStage:"stages/nextStage"}))},v=n("d959"),m=n.n(v);const O=m()(p,[["render",b]]);var j=O;function h(e,t,n,c,i,o){var s=Object(a["t"])("Camera"),r=Object(a["t"])("NoisyImage"),u=Object(a["t"])("Scene"),l=Object(a["t"])("Renderer");return Object(a["m"])(),Object(a["c"])(l,{ref:"renderer"},{default:Object(a["x"])((function(){return[Object(a["g"])(s,{position:{x:0,y:0,z:100}}),Object(a["g"])(u,{background:"#000000"},{default:Object(a["x"])((function(){return[Object(a["g"])(r,{src:"./assets/images/catala.png",width:120,"time-coef":.001,"noise-coef":2,"z-coef":5,"disp-coef":.015,position:{x:50,y:0,z:0},onClick:t[0]||(t[0]=function(e){return o.flagClick("CAT")})},null,8,["time-coef","disp-coef"]),Object(a["g"])(r,{src:"./assets/images/english.png",width:120,"time-coef":.001,"noise-coef":2,"z-coef":5,"disp-coef":.015,position:{x:-50,y:0,z:0},onClick:t[1]||(t[1]=function(e){return o.flagClick("ENG")})},null,8,["time-coef","disp-coef"])]})),_:1})]})),_:1},512)}var y=n("00ac"),x={components:{NoisyImage:y["a"]},data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:0,y:0,z:1.5}}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({setLanguage:"data/setLanguage"})),{},{flagClick:function(e){this.setLanguage(e)}})};const S=m()(x,[["render",h]]);var L=S,_={components:{Continue:j,Flag:L},computed:Object(g["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};n("1146");const k=m()(_,[["render",d],["__scopeId","data-v-42e51168"]]);var P=k,C={key:0};function w(e,t,n,c,i,o){var s=Object(a["t"])("Form");return e.currentScene("About")?(Object(a["m"])(),Object(a["e"])("div",C,[Object(a["g"])(s,{propQuestions:o.aboutQuestions,title:e.getLabel("about_title"),saveFunction:"saveAboutDecisions"},null,8,["propQuestions","title"])])):Object(a["d"])("",!0)}n("b64b");var A={class:"card-container"},F={class:"card-title"},T={class:"card-body"},D={class:"form-element-title"},z=["onClick"],E={class:"card-action"};function G(e,t,n,c,i,o){var s=Object(a["t"])("Popup");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["g"])(s,{ref:"message",message:"Fill answers please"},null,512),Object(a["f"])("div",A,[Object(a["f"])("div",F,[Object(a["f"])("h2",null,Object(a["u"])(n.title),1)]),Object(a["f"])("div",T,[Object(a["f"])("form",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["r"])(Object.keys(i.questions),(function(e){return Object(a["m"])(),Object(a["e"])("div",{class:"form-element",key:e},[Object(a["f"])("div",D,Object(a["u"])(i.questions[e].title),1),(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["r"])(i.questions[e].options,(function(t){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["form-element-option spaced",{selected:t==i.questions[e].optionSelected}]),key:t,onClick:function(n){return i.questions[e].optionSelected=t}},Object(a["u"])(t),11,z)})),128))])})),128))])]),Object(a["f"])("div",E,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(){return o.onContinue&&o.onContinue.apply(o,arguments)})},"Continue")])])],64)}n("4de4"),n("d3b7"),n("caad"),n("2532");var q={class:"popup-content"};function I(e,t,n,c,i,o){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["popup",{popupActive:i.activated,popupInactive:i.deactivated}])},[Object(a["f"])("div",q,[Object(a["f"])("h5",null,Object(a["u"])(n.message),1)])],2)}var M={name:"Popup",data:function(){return{POPUP_TIME:2,activated:!1,deactivated:!1}},props:["type","message"],methods:{activate:function(){this.activated=!0,this.deactivated=!1;var e=this;setTimeout((function(){e.deactivate()}),1e3*this.POPUP_TIME)},deactivate:function(){this.activated=!1,this.deactivated=!0}}};const R=m()(M,[["render",I]]);var N=R,Q={name:"Form",components:{Popup:N},props:{propQuestions:Object,title:String,saveFunction:String},data:function(){return{questions:this.propQuestions}},computed:{dataValidated:function(){var e=this;return 0==Object.keys(this.questions).filter((function(t){return!e.questions[t].options.includes(e.questions[t].optionSelected)})).length}},methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({nextStage:"stages/nextStage"})),{},{onContinue:function(){this.dataValidated?(this.formatDataForSave(),this.$store.commit("data/".concat(this.saveFunction),this.questions),this.nextStage()):this.$refs.message.activate()},formatDataForSave:function(){for(var e=0,t=Object.keys(this.questions);e<t.length;e++){var n=t[e];this.questions[n]=this.questions[n].optionSelected}}})};const $=m()(Q,[["render",G]]);var U=$,H={components:{Form:U},computed:Object(g["a"])({aboutQuestions:function(){return{age:{title:this.getLabel("about_age"),options:["10-","11-15","15-19","20+"],optionSelected:""},gender:{title:this.getLabel("about_gender"),options:this.getLabel("about_gender_options"),optionSelected:""}}}},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};const J=m()(H,[["render",w]]);var V=J;function W(e,t,n,c,i,o){var s=Object(a["t"])("Visuals1"),r=Object(a["t"])("Scene");return Object(a["m"])(),Object(a["c"])(r,{name:"Scene1"},{default:Object(a["x"])((function(){return[Object(a["g"])(s)]})),_:1})}function K(e,t,n,c,i,o){var s=Object(a["t"])("PerspectiveCamera"),r=Object(a["t"])("PointLight"),u=Object(a["t"])("LoadingScreen"),l=Object(a["t"])("FbxModel"),d=Object(a["t"])("Scene"),g=Object(a["t"])("Renderer");return Object(a["m"])(),Object(a["c"])(g,{ref:"renderer",resize:"window","orbit-ctrl":{autoRotate:!0,autoRotateSpeed:.5}},{default:Object(a["x"])((function(){return[Object(a["g"])(s,{ref:"camera",lookAt:i.cameraLookAt,position:i.cameraPosition},null,8,["lookAt","position"]),Object(a["g"])(d,{ref:"scene",background:"#000000"},{default:Object(a["x"])((function(){return[Object(a["g"])(r,{position:{x:0,y:0,z:3},intensity:.4},null,8,["intensity"]),Object(a["g"])(r,{position:{x:0,y:0,z:-3},intensity:.4},null,8,["intensity"]),Object(a["g"])(u,{ref:"loadingScreen"},null,512),Object(a["g"])(l,{src:"./assets/models/Standing Arguing.fbx",onLoad:o.onLoad,position:{y:-3,x:-1,z:0},rotation:{y:.5*Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"]),Object(a["g"])(l,{src:"./assets/models/Standing Arguing.fbx",onLoad:o.onLoad,position:{y:-3,x:1,z:0},rotation:{y:.5*-Math.PI},scale:{x:.02,y:.02,z:.02}},null,8,["onLoad","rotation","scale"])]})),_:1},512)]})),_:1},8,["orbit-ctrl"])}n("159b");var X=n("5a89");function B(e,t,n,c,i,o){var s=Object(a["t"])("ShaderMaterial"),r=Object(a["t"])("Plane");return Object(a["m"])(),Object(a["c"])(r,{ref:"loadingScreen",width:2,height:2,position:{y:-2,z:0}},{default:Object(a["x"])((function(){return[Object(a["g"])(s,{props:{vertexShader:i.vs,fragmentShader:i.fs,uniforms:i.us}},null,8,["props"])]})),_:1},512)}var Y=n("cffa"),Z="\nvarying vec2 vUv;\nuniform float uTime;\nvarying float vTime;\nvoid main()\n{\n    gl_Position = vec4(position, 1.0);\n    vUv = uv;\n    vTime = uTime;\n}\n",ee="\nuniform float uAlpha;\nvarying vec2 vUv;\nvarying float vTime;\n\nvec4 permute(vec4 x)\n{\n    return mod(((x*34.0)+1.0)*x, 289.0);\n}\n\nvec2 fade(vec2 t)\n{\n    return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\nfloat cnoise(vec2 P)\n{\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x,gy.x);\n    vec2 g10 = vec2(gx.y,gy.y);\n    vec2 g01 = vec2(gx.z,gy.z);\n    vec2 g11 = vec2(gx.w,gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvoid main()\n{\n    float strength = 1.0 - step(sin(vTime*0.6), sin(cnoise(vUv * 10.0) * 20.0));\n    gl_FragColor = vec4(vec3(strength), uAlpha);\n}\n",te={data:function(){return{FADETIME:2,us:{uAlpha:{value:1},uTime:{value:0}},loadingFinished:!1,vs:Z,fs:ee}},mounted:function(){this.loadingScreen=this.$refs.loadingScreen,this.loadingScreenMaterial=this.loadingScreen.material,this.loadingScreenMaterial.transparent=!0,this.clock=new X["p"]},methods:{finish:function(){var e=this;Y["a"].to(this.loadingScreenMaterial.uniforms.uAlpha,{duration:this.FADETIME,value:0,onComplete:function(){e.onFinish()}})},onFinish:function(){this.loadingFinished=!0,this.$store.commit("stages/loadingSwitch")},update:function(){if(!this.loadingFinished){var e=this.clock.getElapsedTime();this.us.uTime.value=e}}}};const ne=m()(te,[["render",B]]);var ae=ne,ce={components:{LoadingScreen:ae},data:function(){return{cameraLookAt:{x:0,y:0,z:0},cameraPosition:{x:-1.8625455300041365,y:.2209428475467337,z:.676835122899029},animations:[],numberOfObjects:2}},mounted:function(){this.renderer=this.$refs.renderer,this.scene=this.$refs.scene,this.loadingScreen=this.$refs.loadingScreen,this.camera=this.$refs.camera,this.clock=new X["p"],this.init()},methods:{init:function(){var e=new X["u"];this.scene.scene.background=e.load(["./assets/textures/street/px.jpg","./assets/textures/street/nx.jpg","./assets/textures/street/py.jpg","./assets/textures/street/ny.jpg","./assets/textures/street/pz.jpg","./assets/textures/street/nz.jpg"]),this.renderer.onBeforeRender(this.update)},update:function(){this.updateAnimations(),this.loadingScreen.update()},onLoad:function(e){var t=new X["e"](e);t.clipAction(e.animations[1]).play();var n=new X["p"];this.animations.push({animation:t,clock:n}),this.numberOfObjects==this.animations.length&&this.loadingScreen.finish()},updateAnimations:function(){this.animations.forEach((function(e){e.animation.update(e.clock.getDelta())}))}}};const ie=m()(ce,[["render",K]]);var oe=ie,se=(n("b0c0"),{key:0});function re(e,t,n,c,i,o){var s=Object(a["t"])("Options");return this["stages/isCurrentStage"](n.name)?(Object(a["m"])(),Object(a["e"])("div",se,[Object(a["s"])(e.$slots,"default"),Object(a["g"])(s,{information:e.optionsProps},null,8,["information"])])):Object(a["d"])("",!0)}var ue=n("1da1"),le=(n("96cf"),{class:"title"}),de={class:"options"};function ge(e,t,n,c,i,o){var s=Object(a["t"])("Option");return Object(a["m"])(),Object(a["e"])("div",null,[Object(a["f"])("div",le,[Object(a["g"])(s,{message:n.information.title,disabled:""},null,8,["message"])]),Object(a["f"])("div",de,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["r"])(n.information.options,(function(e,t){return Object(a["m"])(),Object(a["c"])(s,{key:e,message:e,index:t},null,8,["message","index"])})),128))])])}var fe={key:0};function be(e,t,n,c,i,o){return n.message?(Object(a["m"])(),Object(a["e"])("div",fe,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(){return o.onClick&&o.onClick.apply(o,arguments)}),class:Object(a["k"])(["option",{active:!e.sceneLoading,disabled:n.disabled}])},Object(a["u"])(n.message),3)])):Object(a["d"])("",!0)}n("a9e3");var pe={name:"Option",props:{index:Number,message:String,disabled:{type:Boolean,default:!1}},computed:Object(g["a"])({},Object(f["c"])({sceneLoading:"stages/isSceneLoading"})),methods:Object(g["a"])(Object(g["a"])({},Object(f["b"])({nextStage:"stages/nextStage"})),{},{onClick:function(){this.disabled||(this.$store.commit("data/saveSceneDecision",this.index),this.nextStage())}})};const ve=m()(pe,[["render",be]]);var me=ve,Oe={name:"Options",props:["information"],components:{Option:me}};const je=m()(Oe,[["render",ge]]);var he=je,ye={components:{Options:he},props:["name"],computed:Object(g["a"])({},Object(f["c"])(["data/getSceneOptions","stages/isCurrentStage"])),created:function(){var e=this;return Object(ue["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e["data/getSceneOptions"](e.name);case 2:e.optionsProps=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};const xe=m()(ye,[["render",re]]);var Se=xe,Le={name:"Scenes",components:{Scene:Se,Visuals1:oe}};const _e=m()(Le,[["render",W]]);var ke=_e,Pe={key:0};function Ce(e,t,n,c,i,o){var s=Object(a["t"])("Form");return e.currentScene("Survey")?(Object(a["m"])(),Object(a["e"])("div",Pe,[Object(a["g"])(s,{propQuestions:o.surveyQuestions,title:e.getLabel("survey_title"),saveFunction:"saveSurveyDecisions"},null,8,["propQuestions","title"])])):Object(a["d"])("",!0)}var we={components:{Form:U},computed:Object(g["a"])({surveyQuestions:function(){return{s1:{title:this.getLabel("s1_title"),options:this.getLabel("survey_options"),optionSelected:null},s2:{title:this.getLabel("s2_title"),options:this.getLabel("survey_options"),optionSelected:null}}}},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"}))};const Ae=m()(we,[["render",Ce]]);var Fe=Ae,Te={key:0},De={class:"card-container"},ze={class:"card-title"},Ee={class:"card-body"},Ge={class:"card-action"};function qe(e,t,n,c,i,o){return e.currentScene("Final")?(Object(a["m"])(),Object(a["e"])("div",Te,[Object(a["f"])("div",De,[Object(a["f"])("div",ze,[Object(a["f"])("h1",null,Object(a["u"])(e.getLabel("final_title")),1)]),Object(a["f"])("div",Ee,[Object(a["f"])("p",null,Object(a["u"])(e.getLabel("final_description")),1)]),Object(a["f"])("div",Ge,[Object(a["f"])("button",{onClick:t[0]||(t[0]=function(e){return o.reloadPage()})},Object(a["u"])(e.getLabel("final_restart")),1)])])])):Object(a["d"])("",!0)}var Ie={computed:Object(g["a"])({},Object(f["c"])({currentScene:"stages/isCurrentStage",getLabel:"data/getLabel"})),methods:{reloadPage:function(){window.location.reload()}}};const Me=m()(Ie,[["render",qe]]);var Re=Me,Ne={name:"Game",components:{Welcome:P,About:V,Scenes:ke,Survey:Fe,Final:Re}};const Qe=m()(Ne,[["render",c]]);var $e=Qe,Ue=(n("e9c4"),{continue:["Continue","Avanza","Avança"],welcome_title:["TFG Game","Juego TFG","Joc TFG"],welcome_description:["TFG Game","Juego TFG","Joc TFG"],final_title:["Game end","Fin del juego","Fi del joc"],final_description:["Thanks","Gracias","Gracies"],final_restart:["Restart","Reinicia","Reinicia"],about_title:["About you","Sobre ti","Sobre tu"],about_age:["Select your age","Selecciona tu edad","Selecciona la teva edat"],about_gender:["Select your gender","Selecciona tu genero","Selecciona el teu genere"],about_gender_options:[["Male","Female","Other"],["Hombre","Mujer","Otro"],["Home","Dona","Altre"]],survey_title:["Final survey","Encuesta final","Enquesta final"],survey_options:[["Disagree","Neutral","Agree"],["En desacuerdo","Neutral","De acuerdo"],["En desacord","Neutral","D'acord"]],s1_title:["ENGAn excessive use of social media platforms can lead to negative effects in physical and mental health","ESPAn excessive use of social media platforms can lead to negative effects in physical and mental health","CATAn excessive use of social media platforms can lead to negative effects in physical and mental health"],s2_title:["ENGAn excessive use of social media platforms can lead to negative effects in physical and mental health","ESPAn excessive use of social media platforms can lead to negative effects in physical and mental health","CATAn excessive use of social media platforms can lead to negative effects in physical and mental health"]}),He=function(){return{languages:{ENG:0,ESP:1,CAT:2,0:"ENG",1:"ESP",2:"CAT"},language:2,scenesCollection:"61b4956f0ddbee6f8b1b8c7e",usersCollection:"61b49c4262ed886f915e5a13",masterKey:"$2b$10$yGbK6Zw/E5lzTl.TmQivFuhYR87PWV2Cy2TG.gIi8Lp2BLduGVNyq",scenesOptions:{Scene1:{title:"Your friend is sad because she failed, but you are on the phone",options:["Ignore and stay on the phone.","Listen while on the phone.","Give her all your attention."]}},userData:{aboutDecisions:null,sceneDecisions:[],surveyDecisions:null}}},Je={getLabel:function(e){return function(t){return Ue[t]?Ue[t][e.language]:"No label"}},getLanguage:function(e){return e.languages[e.language]},getUsersCollection:function(e){return e.usersCollection},getScenesCollection:function(e){return e.scenesCollection},getUserData:function(e){return e.userData},getSurveyQuestions:function(e){return e.surveyQuestions},getSceneOptions:function(e){return function(t){return e.scenesOptions[t]}}},Ve={setLanguage:function(e,t){var n=e.commit;n("setLanguage",t)},saveData:function(e){e.commit,e.getters}},We={setLanguage:function(e,t){e.language=e.languages[t]},saveData:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&console.log(n.responseText)},n.open("POST","https://api.jsonbin.io/v3/b",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Master-Key",e.masterKey),n.setRequestHeader("X-Collection-Id",t),n.send(JSON.stringify(e.userData))},saveAboutDecisions:function(e,t){e.userData.aboutDecisions=t},saveSurveyDecisions:function(e,t){e.userData.surveyDecisions=t},saveSceneDecision:function(e,t){e.userData.sceneDecisions.push(t)}},Ke={namespaced:!0,state:He,getters:Je,actions:Ve,mutations:We},Xe=function(){return{stages:["Welcome","About","Scene1","Survey","Final"],currentStageIndex:0,sceneLoading:!1}},Be={isCurrentStage:function(e){return function(t){return e.stages[e.currentStageIndex]==t}},isSceneLoading:function(e){return e.sceneLoading},isLastStage:function(e){return e.currentStageIndex==e.stages.length-1}},Ye={nextStage:function(e){var t=e.commit;t("nextStage"),t("saveData")}},Ze={nextStage:function(e){e.currentStageIndex+1<e.stages.length&&(e.currentStageIndex++,e.stages[e.currentStageIndex].includes("Scene")&&(e.sceneLoading=!e.sceneLoading))},loadingSwitch:function(e){e.sceneLoading=!e.sceneLoading},saveData:function(e){e.currentStageIndex==e.stages.length-1&&this.dispatch("data/saveData",{root:!0})}},et={namespaced:!0,state:Xe,getters:Be,actions:Ye,mutations:Ze},tt=Object(f["a"])({modules:{data:Ke,stages:et}}),nt=n("af1e");Object(a["b"])($e).use(tt).use(nt["b"]).mount("#app")}});
//# sourceMappingURL=app.82c92521.js.map